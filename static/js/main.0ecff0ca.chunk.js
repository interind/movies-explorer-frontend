(this["webpackJsonpmovies-explorer-frontend"]=this["webpackJsonpmovies-explorer-frontend"]||[]).push([[0],{144:function(e,t,a){},150:function(e,t){},152:function(e,t){},162:function(e,t){},164:function(e,t){},191:function(e,t){},193:function(e,t){},194:function(e,t){},199:function(e,t){},201:function(e,t){},220:function(e,t){},232:function(e,t){},235:function(e,t){},261:function(e,t,a){},269:function(e,t,a){},270:function(e,t,a){},271:function(e,t,a){},272:function(e,t,a){},273:function(e,t,a){},274:function(e,t,a){},275:function(e,t,a){},276:function(e,t,a){},277:function(e,t,a){},278:function(e,t,a){},279:function(e,t,a){},280:function(e,t,a){},281:function(e,t,a){},282:function(e,t,a){},283:function(e,t,a){},284:function(e,t,a){},285:function(e,t,a){},286:function(e,t,a){},287:function(e,t,a){},288:function(e,t,a){},289:function(e,t,a){},290:function(e,t,a){},291:function(e,t,a){},292:function(e,t,a){},293:function(e,t,a){},294:function(e,t,a){},295:function(e,t,a){},296:function(e,t,a){},297:function(e,t,a){},298:function(e,t,a){},299:function(e,t,a){},300:function(e,t,a){},301:function(e,t,a){"use strict";a.r(t);var n=a(1),c=a.n(n),i=a(135),r=a.n(i),s=a(21),o=a(46),l=a.n(o),u=a(55),d=a(81),j=a(3),m=a(2),p=a(8),h={email:"guest@pochta.ru",password:"123456"},b=c.a.createContext(),f=a.p+"static/media/errorPic.b39bbd5d.jpg",g=(a(144),a(0));var O=function(e){var t=e.card,a=e.onCardClick,n=e.onCardDelete,i=e.onCardLike,r=c.a.useContext(b)._id,s=c.a.useState(t.link),o=Object(m.a)(s,2),l=o[0],u=o[1];return Object(g.jsx)(c.a.Fragment,{children:Object(g.jsxs)("div",{className:"Card",children:[Object(g.jsx)("img",{src:l,alt:t.name,className:"Card__pic",onError:function(){u(f)},onClick:function(){return a(t)}}),Object(g.jsx)("button",{className:"Card__button-trash ".concat(t.owner===r?"Card__button-trash_visible":""),type:"button",title:"\u043a\u043d\u043e\u043f\u043a\u0430 \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u044f \u043a\u0430\u0440\u0442\u043e\u0447\u043a\u0438",onClick:function(){return n(t)}}),Object(g.jsxs)("div",{className:"Card__info",children:[Object(g.jsx)("h2",{className:"Card__title",title:t.name,children:t.name}),t.likes&&Object(g.jsxs)("div",{className:"Card__like",children:[Object(g.jsx)("button",{className:"Card__button-like Card__button-like_color_white ".concat(t.likes.find((function(e){return e===r}))?"Card__button-like_color_black":""),type:"button",title:"\u043a\u043d\u043e\u043f\u043a\u0430 \u0434\u043b\u044f \u043b\u0430\u0439\u043a\u043e\u0432",onClick:function(){return i(t)}}),Object(g.jsx)("span",{className:"Card__counter-like",title:t.likes.map((function(){return"\ud83d\udda4"})),children:t.likes.length})]})]})]})})},v=a(136),_=a.n(v);var x=function(e){var t=Date.now().toString();return _.a.HmacSHA1(e,t).toString()};a(261);var N=function(e){var t=e.links,a=e.place,n=e.handleLinkClick,c=e.children,i=e.onChange;return Object(g.jsx)("ul",{className:"NavTab NavTab_place_".concat(a||"hidden"),children:t.map((function(e){return Object(g.jsxs)("li",{onClick:i,className:"NavTab__item NavTab__item_place_".concat(a," ").concat(e.active?"NavTab__item-active":""),children:["local"===e.type&&Object(g.jsxs)(s.b,{className:"NavTab__link",activeClassName:"".concat(e.active?"":"NavTab__link_active"),exact:!0,to:e.path,title:e.title,children:[e.text," ",c&&c]}),"url"===e.type&&Object(g.jsxs)("a",{className:"NavTab__link",href:e.path,title:e.title,target:"_blank",rel:"noopener noreferrer",children:[e.text," ",c&&c]}),""===e.type&&Object(g.jsxs)(s.b,{className:"NavTab__link",to:e.path,title:e.title,onClick:n,children:[e.text," ",c&&c]})]},x(e.path))}))})};a(269);var k=function(){var e="\u0423\u0447\u0435\u0431\u043d\u044b\u0439 \u043f\u0440\u043e\u0435\u043a\u0442 \u0441\u0442\u0443\u0434\u0435\u043d\u0442\u0430 \u0444\u0430\u043a\u0443\u043b\u044c\u0442\u0435\u0442\u0430 \u0412\u0435\u0431-\u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u043a\u0438.",t="promo";return Object(g.jsxs)("section",{className:"Promo",id:"promo",children:[Object(g.jsx)("h1",{className:"Promo__title",children:e}),Object(g.jsx)("div",{className:"Promo__nav-tab",children:Object(g.jsx)(N,{links:[{path:"#about-project",text:"\u041e \u043f\u0440\u043e\u0435\u043a\u0442\u0435",type:"",title:"\u043e \u043f\u0440\u043e\u0435\u043a\u0442\u0435"},{path:"#techs",text:"\u0422\u0435\u0445\u043d\u043e\u043b\u043e\u0433\u0438\u0438",type:"",title:"\u0442\u0435\u0445\u043d\u043e\u043b\u043e\u0433\u0438\u0438 \u043f\u0440\u043e\u0435\u043a\u0442\u0430"},{path:"#about-me",text:"\u0421\u0442\u0443\u0434\u0435\u043d\u0442",type:"",title:"\u0430\u0432\u0442\u043e\u0440 \u043f\u0440\u043e\u0435\u043a\u0442\u0430"}],place:t,handleLinkClick:function(e){e.preventDefault(),document.querySelector(e.target.hash).scrollIntoView()}})})]})};a(270);var y=function(e){var t=e.className,a=void 0===t?"":t,n=e.status,c=e.title,i=e.type,r=e.children,s=e.onChange;return Object(g.jsx)("button",{className:"Button ".concat(a),type:i,title:c,disabled:n,onClick:s,children:r})};a(271);var C=function(e){var t=e.component,a=e.place,n=e.children;return Object(g.jsxs)("div",{className:"HeaderBar HeaderBar_place_".concat(a),children:[t&&Object(g.jsx)(t,{}),Object(g.jsx)("h2",{className:"HeaderBar__title HeaderBar__title_place_".concat(a),children:n})]})};a(272);var S=function(){return Object(g.jsxs)("section",{className:"AboutProject",id:"about-project",children:[Object(g.jsx)(C,{place:"aboutProject",children:"\u041e \u043f\u0440\u043e\u0435\u043a\u0442\u0435"}),Object(g.jsxs)("div",{className:"AboutProject__containers",children:[[{title:"\u0414\u0438\u043f\u043b\u043e\u043c\u043d\u044b\u0439 \u043f\u0440\u043e\u0435\u043a\u0442 \u0432\u043a\u043b\u044e\u0447\u0430\u043b 5 \u044d\u0442\u0430\u043f\u043e\u0432",description:"\u0421\u043e\u0441\u0442\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u043f\u043b\u0430\u043d\u0430, \u0440\u0430\u0431\u043e\u0442\u0443 \u043d\u0430\u0434 \u0431\u044d\u043a\u0435\u043d\u0434\u043e\u043c, \u0432\u0451\u0440\u0441\u0442\u043a\u0443, \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u0444\u0443\u043d\u043a\u0446\u0438\u043e\u043d\u0430\u043b\u044c\u043d\u043e\u0441\u0442\u0438 \u0438 \u0444\u0438\u043d\u0430\u043b\u044c\u043d\u044b\u0435 \u0434\u043e\u0440\u0430\u0431\u043e\u0442\u043a\u0438."},{title:"\u041d\u0430 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u0435 \u0434\u0438\u043f\u043b\u043e\u043c\u0430 \u0443\u0448\u043b\u043e 5 \u043d\u0435\u0434\u0435\u043b\u044c",description:"\u0423 \u043a\u0430\u0436\u0434\u043e\u0433\u043e \u044d\u0442\u0430\u043f\u0430 \u0431\u044b\u043b \u043c\u044f\u0433\u043a\u0438\u0439 \u0438 \u0436\u0451\u0441\u0442\u043a\u0438\u0439 \u0434\u0435\u0434\u043b\u0430\u0439\u043d, \u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u043d\u0443\u0436\u043d\u043e \u0431\u044b\u043b\u043e \u0441\u043e\u0431\u043b\u044e\u0434\u0430\u0442\u044c, \u0447\u0442\u043e\u0431\u044b \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0437\u0430\u0449\u0438\u0442\u0438\u0442\u044c\u0441\u044f."}].map((function(e){return Object(g.jsxs)("div",{className:"AboutProject__container",children:[Object(g.jsx)("h3",{className:"AboutProject__title",children:e.title}),Object(g.jsx)("p",{className:"AboutProject__subtitle",children:e.description})]},x(e.title))})),[{title:"1 \u043d\u0435\u0434\u0435\u043b\u044f",description:"Back-end"},{title:"4 \u043d\u0435\u0434\u0435\u043b\u0438",description:"Front-end"}].map((function(e){return Object(g.jsxs)("div",{className:"AboutProject__container",children:[Object(g.jsx)("h3",{className:"AboutProject__title AboutProject__title_theme_".concat(e.title.includes("1")?"green":"gray"),children:e.title}),Object(g.jsx)("p",{className:"AboutProject__subtitle AboutProject__subtitle_theme_gray",children:e.description})]},x(e.title))}))]})]})};a(273);var F=function(){var e="7 \u0442\u0435\u0445\u043d\u043e\u043b\u043e\u0433\u0438\u0439",t="\u041d\u0430 \u043a\u0443\u0440\u0441\u0435 \u0432\u0435\u0431-\u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u043a\u0438 \u043c\u044b \u043e\u0441\u0432\u043e\u0438\u043b\u0438 \u0442\u0435\u0445\u043d\u043e\u043b\u043e\u0433\u0438\u0438, \u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u043f\u0440\u0438\u043c\u0435\u043d\u0438\u043b\u0438 \u0432 \u0434\u0438\u043f\u043b\u043e\u043c\u043d\u043e\u043c \u043f\u0440\u043e\u0435\u043a\u0442\u0435.",a="techs";return Object(g.jsxs)("section",{className:"Techs",id:"techs",children:[Object(g.jsx)(C,{place:a,children:"\u0422\u0435\u0445\u043d\u043e\u043b\u043e\u0433\u0438\u0438"}),Object(g.jsx)("h3",{className:"Techs__title",children:e}),Object(g.jsx)("p",{className:"Techs__subtitle",children:t}),Object(g.jsx)(N,{place:a,links:[{path:"https://html5book.ru/",text:"HTML",active:"",title:"\u041f\u0435\u0440\u0435\u0439\u0442\u0438 \u043d\u0430 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0443 html5book.ru",type:"url"},{path:"https://developer.mozilla.org/ru/docs/Web/CSS",text:"CSS",active:"",title:"\u041f\u0435\u0440\u0435\u0439\u0442\u0438 \u043d\u0430 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0443 developer.mozilla.org",type:"url"},{path:"https://learn.javascript.ru/",text:"JS",active:"",title:"\u041f\u0435\u0440\u0435\u0439\u0442\u0438 \u043d\u0430 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0443 learn.javascript.ru",type:"url"},{path:"https://ru.reactjs.org/",text:"React",active:"",title:"\u041f\u0435\u0440\u0435\u0439\u0442\u0438 \u043d\u0430 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0443 reactjs.org",type:"url"},{path:"https://git-scm.com/",text:"Git",active:"",title:"\u041f\u0435\u0440\u0435\u0439\u0442\u0438 \u043d\u0430 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0443 git-scm.com",type:"url"},{path:"https://expressjs.com/ru/",text:"Express.js",active:"",title:"\u041f\u0435\u0440\u0435\u0439\u0442\u0438 \u043d\u0430 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0443 expressjs.com",type:"url"},{path:"https://www.mongodb.com/",text:"mongoDB",active:"",title:"\u041f\u0435\u0440\u0435\u0439\u0442\u0438 \u043d\u0430 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0443 mongodb.com",type:"url"}]})]})};a(274);var P=function(){var e="portfolio";return Object(g.jsxs)("section",{className:"Portfolio",children:[Object(g.jsx)(C,{place:e,children:"\u041f\u043e\u0440\u0442\u0444\u043e\u043b\u0438\u043e"}),Object(g.jsx)(N,{links:[{path:"https://interind.github.io/russian-travel/index.html",text:"\u0421\u0442\u0430\u0442\u0438\u0447\u043d\u044b\u0439 \u0441\u0430\u0439\u0442",title:"\u0441\u0441\u044b\u043b\u043a\u0430 \u043d\u0430 \u0441\u0430\u0439\u0442 russian-travel",active:"",type:"url"},{path:"https://interind.github.io/mesto/index.html",text:"\u0410\u0434\u0430\u043f\u0442\u0438\u0432\u043d\u044b\u0439 \u0441\u0430\u0439\u0442",title:"\u0441\u0441\u044b\u043b\u043a\u0430 \u043d\u0430 \u0441\u0430\u0439\u0442 mesto",active:"",type:"url"},{path:"/cards",text:"\u041e\u0434\u043d\u043e\u0441\u0442\u0440\u0430\u043d\u0438\u0447\u043d\u043e\u0435 \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u0435",title:"\u0441\u0441\u044b\u043b\u043a\u0430 \u043d\u0430 \u043f\u0440\u043e\u0435\u043a\u0442",active:"",type:"local"}],place:e,children:Object(g.jsx)("span",{className:"Portfolio-arrow"})})]})};a(275);var w=function(){var e="aboutMe",t={name:"\u0410\u043b\u0435\u043a\u0441\u0430\u043d\u0434\u0440",about:"\u0441\u0442\u0443\u0434\u0435\u043d\u0442",age:"37 \u043b\u0435\u0442",description:"\u042f \u0440\u043e\u0434\u0438\u043b\u0441\u044f \u0432 \u0433\u043e\u0440\u043e\u0434\u0435 \u0411\u0435\u0440\u0451\u0437\u043e\u0432\u0441\u043a\u043e\u043c, \u0436\u0438\u0432\u0443 \u0432 \u041c\u043e\u0441\u043a\u0432\u0435, \u0437\u0430\u043a\u043e\u043d\u0447\u0438\u043b \u0444\u0430\u043a\u0443\u043b\u044c\u0442\u0435\u0442 \u043c\u0435\u043d\u0435\u0434\u0436\u043c\u0435\u043d\u0442\u0430 \u0432 \u0438\u043d\u0441\u0442\u0438\u0442\u0443\u0442\u0435 \u0441\u043e\u0446\u0438\u0430\u043b\u044c\u043d\u044b\u0445 \u0438 \u0433\u0443\u043c\u0430\u043d\u0438\u0442\u0430\u0440\u043d\u044b\u0445 \u0437\u043d\u0430\u043d\u0438\u0439. \u0423 \u043c\u0435\u043d\u044f \u0435\u0441\u0442\u044c \u0436\u0435\u043d\u0430, \u0441\u044b\u043d \u0438 \u0434\u0432\u0435 \u0434\u043e\u0447\u0435\u0440\u0438. \u042f \u043b\u044e\u0431\u043b\u044e \u0441\u043b\u0443\u0448\u0430\u0442\u044c \u043c\u0443\u0437\u044b\u043a\u0443, \u0430 \u0435\u0449\u0451 \u0443\u0432\u043b\u0435\u043a\u0430\u044e\u0441\u044c \u0431\u043e\u043b\u044c\u0448\u0438\u043c \u0442\u0435\u043d\u0438\u0441\u043e\u043c, \u0448\u0430\u0445\u043c\u0430\u0442\u0430\u043c\u0438, javascript. \u041d\u0435\u0434\u0430\u0432\u043d\u043e \u043d\u0430\u0447\u0430\u043b \u043a\u043e\u0434\u0438\u0442\u044c. \u0421 2006 \u0433\u043e\u0434\u0430 \u0440\u0430\u0431\u043e\u0442\u0430\u044e \u0432 \u0442\u043e\u0440\u0433\u043e\u0432\u043e\u0439 \u043a\u043e\u043c\u043f\u0430\u043d\u0438\u0438 \u0438 \u0437\u0430\u043d\u0438\u043c\u0430\u044e\u0441\u044c \u043e\u043f\u0442\u043e\u0432\u044b\u043c\u0438 \u043f\u0440\u043e\u0434\u0430\u0436\u0430\u043c\u0438.  \u041f\u043e\u0441\u043b\u0435 \u0442\u043e\u0433\u043e, \u043a\u0430\u043a \u043f\u0440\u043e\u0448\u0451\u043b \u043a\u0443\u0440\u0441 \u043f\u043e \u0432\u0435\u0431-\u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u043a\u0435, \u043f\u043b\u0430\u043d\u0438\u0440\u0443\u044e \u043f\u0435\u0440\u0435\u0439\u0442\u0438 \u0432 IT-\u0441\u0444\u0435\u0440\u0443."};return Object(g.jsxs)("section",{className:"AboutMe",id:"about-me",children:[Object(g.jsx)(C,{place:e,children:"\u0421\u0442\u0443\u0434\u0435\u043d\u0442"}),Object(g.jsxs)("div",{className:"AboutMe-container",children:[Object(g.jsxs)("div",{className:"AboutMe-info",children:[Object(g.jsx)("h3",{className:"AboutMe__title AboutMe__title_place_author",children:t.name}),Object(g.jsx)("h4",{className:"AboutMe__subtitle",children:"".concat(t.about," ").concat(t.age)}),Object(g.jsx)("p",{className:"AboutMe__text",children:t.description}),Object(g.jsx)(N,{links:[{path:"https://github.com/interind",text:"Github",active:"",title:"\u0441\u0441\u044b\u043b\u043a\u0430 \u043d\u0430 \u0413\u0438\u0442\u0445\u0430\u0431",type:"url"},{path:"https://edabit.com/user/d75pKNSh7ZJGhWMEG",text:"Edabit",active:"",title:"\u0441\u0441\u044b\u043b\u043a\u0430 \u043d\u0430 Edabit",type:"url"}],place:e})]}),Object(g.jsx)("div",{className:"AboutMe-image"})]}),Object(g.jsx)(P,{})]})};a(276);var L=function(e){var t=e.onHeader,a=e.stateHeader;return Object(n.useEffect)((function(){a||t(!0)}),[t,a]),Object(g.jsxs)("main",{className:"Main",children:[Object(g.jsx)(k,{}),Object(g.jsx)(S,{}),Object(g.jsx)(F,{}),Object(g.jsx)(w,{}),Object(g.jsx)(y,{className:"Button__app",type:"button",title:"\u0412\u0432\u0435\u0440\u0445",onChange:function(){return window.scrollTo(0,0)}})]})},M=a(9),E=a(13),I=a.n(E);a(277);var R=function(e){var t=e.className,a="/",n="\u043d\u0430 \u0433\u043b\u0430\u0432\u043d\u0443\u044e",c=Object(p.g)();return Object(g.jsx)("div",{className:"Logo ".concat(t?"Logo_place_".concat(t):""),onClick:function(){c.push(a)},title:n})};a(278);var A=function(e){var t=e.nameFrom,a=e.className,n=void 0===a?"":a,c=e.onSubmit,i=e.children;return Object(g.jsx)("form",{className:n,name:t,onSubmit:c,children:i})},T=a(7),B=a.n(T),H=function e(t){var a=t.place,n=t.link,i=t.editPlace,r=t.validationPlace,s=t.placeMessage;e.propTypes={place:B.a.string.isRequired,link:B.a.string.isRequired,editPlace:B.a.func.isRequired,validationPlace:B.a.func.isRequired,placeMessage:B.a.object.isRequired};var o=I()("AddPlaceForm__input",{AddPlaceForm__input_type_error:a||n});return Object(g.jsxs)(c.a.Fragment,{children:[Object(g.jsx)("label",{className:"AddPlaceForm__label",htmlFor:"input-place"}),Object(g.jsx)("input",{className:o,type:"text",placeholder:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435",id:"input-place",name:"place",minLength:"2",defaultValue:a,maxLength:"30",onChange:i,onInput:r,onFocus:r,required:!0}),""!==a&&Object(g.jsx)("div",{className:"AddPlaceForm__error",children:Object(g.jsx)("span",{className:"AddPlaceForm__input-error AddPlaceForm__input-error_active",id:"input-place-error",children:s.place})}),Object(g.jsx)("label",{className:"AddPlaceForm__label",htmlFor:"input-link"}),Object(g.jsx)("input",{className:o,type:"url",placeholder:"\u0421\u0441\u044b\u043b\u043a\u0430 \u043d\u0430 \u043a\u0430\u0440\u0442\u0438\u043d\u043a\u0443",id:"input-link",defaultValue:n,name:"link",onChange:i,onInput:r,onFocus:r,required:!0}),""!==n&&Object(g.jsx)("div",{className:"AddPlaceForm__error",children:Object(g.jsx)("span",{className:"AddPlaceForm__input-error AddPlaceForm__input-error_active",id:"input-link-error",children:s.link})})]})},q=function e(t){var a=t.name,n=t.email,i=t.setEditProfile,r=t.validationProfile,s=t.profileMessage;e.propTypes={name:B.a.string.isRequired,email:B.a.string.isRequired,setEditProfile:B.a.func.isRequired,validationProfile:B.a.func.isRequired,profileMessage:B.a.object.isRequired};var o=I()("Profile__input",{Profile__input_type_error:a||n});return Object(g.jsxs)(c.a.Fragment,{children:[Object(g.jsxs)("label",{className:"Profile__label",htmlFor:"input-name",children:["\u0418\u043c\u044f",Object(g.jsx)("input",{className:o,id:"input-name",type:"text",name:"name",minLength:"2",maxLength:"40",placeholder:"\u0418\u043c\u044f",autoCorrect:"off",autoCapitalize:"words",defaultValue:a,onChange:i,onInput:r,onFocus:r,required:!0})]}),""!==a&&Object(g.jsx)("div",{className:"Profile__error",children:Object(g.jsx)("span",{className:"Profile__input-error Profile__input-error_active",id:"input-name-error",children:s.name})}),Object(g.jsxs)("label",{className:"Profile__label",htmlFor:"input-email",children:["\u041f\u043e\u0447\u0442\u0430",Object(g.jsx)("input",{className:o,type:"email",placeholder:"E-mail",id:"input-email",defaultValue:n,name:"email",onChange:i,onInput:r,onFocus:r,required:!0})]}),""!==n&&Object(g.jsx)("div",{className:"Profile__error",children:Object(g.jsx)("span",{className:"Profile__input-error Profile__input-error_active",id:"input-email-error",children:s.email})})]})},D=function e(t){var a=t.email,n=t.password,i=t.setEditLogin,r=t.validationCheck,s=t.placeMessage;e.propTypes={password:B.a.string.isRequired,email:B.a.string.isRequired,setEditLogin:B.a.func.isRequired,validationCheck:B.a.func.isRequired,placeMessage:B.a.object.isRequired};var o=I()("Login__input",{Login__input_type_error:n||a});return Object(g.jsxs)(c.a.Fragment,{children:[Object(g.jsxs)("label",{className:"Login__label",htmlFor:"input-email",children:["\u041f\u043e\u0447\u0442\u0430",Object(g.jsx)("input",{className:o,type:"email",placeholder:"E-mail",id:"input-email",value:a,name:"email",onChange:i,onInput:r,onFocus:r,required:!0})]}),""!==a&&Object(g.jsx)("div",{className:"Login__error",children:Object(g.jsx)("span",{className:"Login__input-error Login__input-error_active",id:"input-email-error",children:s.email})}),Object(g.jsxs)("label",{className:"Login__label",htmlFor:"input-password",children:["\u041fa\u0440\u043e\u043b\u044c",Object(g.jsx)("input",{className:o,type:"password",placeholder:"\u041f\u0430\u0440\u043e\u043b\u044c",id:"input-password",name:"password",minLength:"6",value:n,maxLength:"30",onChange:i,onInput:r,onFocus:r,autoComplete:"off",required:!0})]}),n&&Object(g.jsx)("div",{className:"Login__error",children:Object(g.jsx)("span",{className:"Login__input-error Login__input-error_active",id:"input-password-error",children:s.password})})]})},U=function e(t){var a=t.name,n=t.email,i=t.password,r=t.setEditRegister,s=t.placeMessage,o=t.validationCheck;e.propTypes={email:B.a.string.isRequired,name:B.a.string.isRequired,password:B.a.string.isRequired,setEditRegister:B.a.func.isRequired,validationCheck:B.a.func.isRequired,placeMessage:B.a.object.isRequired};var l=I()("Register__input",{Register__input_type_error:i||n||a});return Object(g.jsxs)(c.a.Fragment,{children:[Object(g.jsxs)("label",{className:"Register__label",htmlFor:"input-name",children:["\u0418\u043c\u044f",Object(g.jsx)("input",{className:l,id:"input-name",type:"text",name:"name",autoCorrect:"off",autoCapitalize:"words",minLength:"2",maxLength:"40",placeholder:"\u0412\u0430\u0448\u0435 \u0438\u043c\u044f",value:a,onChange:r,onInput:o,onFocus:o,required:!0})]}),""!==a&&Object(g.jsx)("div",{className:"Register__error",children:Object(g.jsx)("span",{className:"Register__input-error Register__input-error_active",id:"input-name-error",children:s.name})}),Object(g.jsxs)("label",{className:"Register__label",htmlFor:"input-email",children:["\u041f\u043e\u0447\u0442\u0430",Object(g.jsx)("input",{className:l,type:"email",placeholder:"\u0412\u0430\u0448 e-mail",id:"input-email",value:n,name:"email",onChange:r,onInput:o,onFocus:o,required:!0})]}),""!==n&&Object(g.jsx)("div",{className:"Register__error",children:Object(g.jsx)("span",{className:"Register__input-error Register__input-error_active",id:"input-email-error",children:s.email})}),Object(g.jsxs)("label",{className:"Register__label",htmlFor:"input-password",children:["\u041fa\u0440\u043e\u043b\u044c",Object(g.jsx)("input",{className:l,type:"password",placeholder:"\u041f\u0440\u0438\u0434\u0443\u043c\u0430\u0439\u0442\u0435 \u043d\u0430\u0434\u0435\u0436\u043d\u044b\u0439 \u043f\u0430\u0440\u043e\u043b\u044c",id:"input-password",name:"password",minLength:"6",value:i,maxLength:"30",onChange:r,onInput:o,onFocus:o,autoComplete:"off",required:!0})]}),i&&Object(g.jsx)("div",{className:"Register__error",children:Object(g.jsx)("span",{className:"Register__input-error Register__input-error_active",id:"input-password-error",children:s.password})})]})},z=function e(t){var a=t.movie,n=t.setEditMovies,i=t.validationCheck,r=t.placeMessage;return e.propTypes={movie:B.a.string,placeMessage:B.a.string,setEditMovies:B.a.func,validationCheck:B.a.func},Object(g.jsxs)(c.a.Fragment,{children:[Object(g.jsx)("input",{className:"SearchForm__input",name:"search",value:a,type:"text",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0441\u043b\u043e\u0432\u043e \u0434\u043b\u044f \u043f\u043e\u0438\u0441\u043a\u0430 \u0444\u0438\u043b\u044c\u043c\u0430",minLength:"1",onChange:n,onInput:i,onFocus:i,autoComplete:"off",required:!0}),r&&Object(g.jsx)("div",{className:"SearchForm__error",children:Object(g.jsx)("span",{className:"SearchForm__input-error SearchForm__input-error_active",id:"input-search-error",children:r})})]})};a(279);var J=function(e){var t=e.place,a=e.children;return Object(g.jsx)("nav",{className:"Navigation Navigation_place_".concat(t),children:a})};a(280);var W=function(e){var t=e.loggedIn,a=e.onLogin,c=e.buttonLoading,i=e.onHeader,r=e.stateHeader,s=Object(p.g)(),o=localStorage.getItem("email"),l=localStorage.getItem("password"),u=localStorage.getItem("name"),d=Object(n.useState)({email:o||"",password:l||""}),b=Object(m.a)(d,2),f=b[0],O=b[1],v=Object(n.useState)(!0),_=Object(m.a)(v,2),x=_[0],k=_[1],S=Object(n.useState)({}),F=Object(m.a)(S,2),P=F[0],w=F[1],L=c?"\u041f\u0440\u043e\u0432\u0435\u0440\u043a\u0430...":"\u0412\u043e\u0439\u0442\u0438",E=I()("Button__login",{Button__disabled:x});function T(e){e.preventDefault(),f.password&&f.email&&a(e,f).then((function(){O(Object(j.a)(Object(j.a)({},f),{},{email:"",password:""})),s.push("/movies")})).catch((function(e){return e}))}return Object(n.useEffect)((function(){t&&s.push("/movies")}),[s,t]),Object(n.useEffect)((function(){r&&i(!1)}),[i,r]),Object(n.useEffect)((function(){localStorage.getItem("email")||(O(Object(j.a)({},h)),k(!1))}),[]),Object(g.jsx)("section",{className:"Login",children:Object(g.jsxs)(A,{className:"Login-form",nameFrom:"login-form",onSubmit:function(e){return T(e)},children:[Object(g.jsxs)(C,{component:R,place:"login",children:["\u0420\u0430\u0434\u044b \u0432\u0438\u0434\u0435\u0442\u044c"," ".concat(u||"","!")]}),Object(g.jsx)(D,{password:f.password,email:f.email,placeMessage:P,setEditLogin:function(e){O(Object(j.a)(Object(j.a)({},f),{},Object(M.a)({},e.target.name,e.target.value.trim()))),Array.from(e.target.form).some((function(e){return e.validationMessage}))?k(!0):k(!1)},validationCheck:function(e){return e.target.validity.valid?w(Object(M.a)({},e.target.name,"")):w(Object(M.a)({},e.target.name,e.target.validationMessage))}}),Object(g.jsx)(y,{className:E,type:"submit",title:"\u0412\u043e\u0439\u0442\u0438",status:x,children:L}),Object(g.jsxs)(J,{place:"login",children:[Object(g.jsx)("p",{children:"\u0415\u0449\u0435 \u043d\u0435 \u0437\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u043d\u044b?"}),Object(g.jsx)(N,{links:[{path:"/signup",text:"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f",active:"",title:"\u041f\u0435\u0440\u0435\u0439\u0442\u0438 \u043d\u0430 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0443 \u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u0438",type:"local"}],place:"login"})]})]})})};a(281);var G=function(e){var t=e.isOpen,a=e.modifier,n=e.closePopup,i=e.children,r=e.toggleEventListenerWindow,s=I()("Popup ".concat(a?"Popup_type_".concat(a):""),{Popup_opened:t});return c.a.useEffect((function(){return t&&r(!0),function(){r(!1)}}),[t,r]),Object(g.jsx)("div",{className:s,onMouseDown:function(e){e.target===e.currentTarget&&n()},children:i})};a(282);var V=function(e){var t=e.className,a=e.children,n=e.openPopup;return Object(g.jsx)("header",{className:"Header",children:Object(g.jsxs)("div",{className:"Header__container ".concat(t?"Header__container_place_".concat(t):""),children:[Object(g.jsx)(R,{}),n&&Object(g.jsx)(y,{title:"\u041e\u0442\u043a\u0440\u044b\u0442\u044c",type:"button",className:"Button__open_place_header",onChange:n}),a]})})};a(283);var K=function(){var e="footer";return Object(g.jsxs)("footer",{className:"Footer",children:[Object(g.jsx)(C,{place:e,children:"\u0423\u0447\u0435\u0431\u043d\u044b\u0439 \u043f\u0440\u043e\u0435\u043a\u0442 \u042f\u043d\u0434\u0435\u043a\u0441.\u041f\u0440\u0430\u043a\u0442\u0438\u043a\u0443\u043c \u0445 BeatFilm."}),Object(g.jsxs)("div",{className:"Footer__container",children:[Object(g.jsxs)("span",{className:"Footer-item",children:["\xa9 ",(new Date).getFullYear()]}),Object(g.jsx)(N,{links:[{path:"https://praktikum.yandex.ru/",text:"\u042f\u043d\u0434\u0435\u043a\u0441.\u041f\u0440\u0430\u043a\u0442\u0438\u043a\u0443\u043c",title:"\u0441\u0441\u044b\u043b\u043a\u0430 \u043d\u0430 \u0441\u0430\u0439\u0442 \u042f\u043d\u0434\u0435\u043a\u0441.\u041f\u0440\u0430\u043a\u0442\u0438\u043a\u0443\u043c",active:"",type:"url"},{path:"https://github.com/",text:"Github",title:"\u0441\u0441\u044b\u043b\u043a\u0430 \u043d\u0430 \u0441\u0430\u0439\u0442 Github",active:"",type:"url"},{path:"https://ru-ru.facebook.com/",text:"Facebook",title:"\u0441\u0441\u044b\u043b\u043a\u0430 \u043d\u0430 \u0441\u0430\u0439\u0442 Facebook",active:"",type:"url"}],place:e})]})]})};a(284);var Y=function(e){var t=e.classLabel,a=void 0===t?"":t,n=e.statusCheck,i=e.onFilter,r=e.children;return Object(g.jsx)(c.a.Fragment,{children:Object(g.jsxs)("label",{className:a,children:[Object(g.jsx)("input",{className:"FilterCheckbox",type:"checkbox",name:"checkbox",onChange:i,checked:n}),Object(g.jsx)("span",{id:"span",className:"FilterCheckbox"}),Object(g.jsx)("span",{className:"FilterCheckbox-text",children:r})]})})};a(285);var Z=function(e){var t=e.nameFrom,a=e.onFilter,c=e.onSearch,i=e.statusCheck,r=localStorage.getItem("search"),s=Object(n.useState)(r||""),o=Object(m.a)(s,2),l=o[0],u=o[1],d=Object(n.useState)(!0),j=Object(m.a)(d,2),p=j[0],h=j[1],b=Object(n.useState)(""),f=Object(m.a)(b,2),O=f[0],v=f[1],_=I()("Button__search",{Button__search_disabled:p&&l.length<1});return Object(g.jsx)("section",{className:"SearchForm",children:Object(g.jsxs)(A,{className:"SearchForm-container",nameFrom:t,onSubmit:function(e){e.preventDefault(),l&&(localStorage.setItem("search",l),c(i,t,l))},children:[Object(g.jsx)(z,{movie:l,placeMessage:O,setEditMovies:function(e){u(e.target.value.trim()),h(!e.target.validity.valid)},validationCheck:function(e){return e.target.validity.valid,v("")}}),Object(g.jsx)(y,{className:_,type:"submit",title:"\u041f\u043e\u0438\u0441\u043a"}),Object(g.jsx)("div",{className:"SearchForm-Check",children:Object(g.jsx)(Y,{classLabel:"SearchForm-label",onFilter:a,statusCheck:i,children:"\u041a\u043e\u0440\u043e\u0442\u043a\u043e\u043c\u0435\u0442\u0440\u0430\u0436\u043a\u0438"})})]})})};a(286);var Q=function(e){var t=e.component,a=e.movies,i=e.userMovies,r=e.toggleMovies,s=Object(g.jsx)("p",{className:"MoviesCardList__not-found",children:"\u0424\u0438\u043b\u044c\u043c\u043e\u0432 \u043d\u0435\u0442"}),o=Object(n.useState)(4),l=Object(m.a)(o,2),u=l[0],d=l[1];return Object(g.jsx)(c.a.Fragment,{children:Object(g.jsxs)("section",{className:"MoviesCardList",children:[a.length>0&&a.slice(0,u).map((function(e){return Object(g.jsx)(t,{card:e,userMovies:i,toggleMovies:r},e._id?e._id:e.id)})),a.length<=0&&s,a.length>0&&a.length>u&&Object(g.jsx)(y,{className:"Button-MoviesCardList",type:"button",title:"\u0415\u0449\u0451",onChange:function(){return d(u+4)},children:"\u0415\u0449\u0451"})]})})};a(287);var X=function(e){var t=e.card,a=e.userMovies,n=e.toggleMovies,i=t.image||"./static/media/errorPic.b39bbd5d.jpg",r=c.a.useState(i),s=Object(m.a)(r,2),o=s[0],l=s[1],u=I()("Button-like",{"Button-like_color_red":a.find((function(e){return e.id===t.id}))},{"Button-like_theme_delete":t._id});return Object(g.jsx)(c.a.Fragment,{children:Object(g.jsxs)("div",{className:"MoviesCard",children:[Object(g.jsx)("a",{className:"MoviesCard__link",title:t.description,href:t.trailerLink,target:"_blank",rel:"noopener noreferrer",children:Object(g.jsx)("img",{className:"MoviesCard__pic",src:o,alt:t.nameRU,onError:function(){l(f)}})}),Object(g.jsx)("h2",{className:"MoviesCard__title",title:t.nameRU,children:t.nameRU}),Object(g.jsx)(y,{className:u,type:"button",title:"\ud83d\udda4",onChange:function(){n(t)}}),Object(g.jsx)("span",{className:"MoviesCard__duration",title:"\u0432\u0440\u0435\u043c\u044f \u0444\u0438\u043b\u044c\u043c\u0430",children:"".concat(Math.floor(t.duration/60),"\u0447 ").concat(t.duration%60,"\u043c")})]})})};a(288);var $=function(e){var t=e.movies,a=e.userMovies,i=e.toggleMovies,r=e.onSearch,s=e.onHeader,o=e.stateHeader,l=c.a.useState(!0),u=Object(m.a)(l,2),d=u[0],j=u[1];return Object(n.useEffect)((function(){o||s(!0)}),[s,o]),Object(n.useEffect)((function(){var e=JSON.stringify(t);localStorage.setItem("movies",e)}),[t]),Object(g.jsxs)(c.a.Fragment,{children:[Object(g.jsx)(Z,{nameFrom:"movies",statusCheck:d,onFilter:function(e){j(e.target.checked)},onSearch:r}),d&&Object(g.jsx)(Q,{movies:t,component:X,userMovies:a,toggleMovies:i}),!d&&Object(g.jsx)(Q,{movies:t,component:X,userMovies:a,toggleMovies:i})]})},ee=a(26),te=a(37),ae=a(36),ne=a(54),ce=function(){function e(t){var a=t.url,n=t.login,c=t.user,i=t.cards,r=t.movies,s=t.register,o=t.headers;Object(ee.a)(this,e),this._url=a,this._user=c,this._cards=i,this._movies=r,this._login=n,this._register=s,this._headers=o,this.token=""}return Object(ne.a)(e,[{key:"filterKeys",value:function(e){return Object.fromEntries(Object.entries(e).filter((function(e){var t=Object(m.a)(e,2);t[0];return""!==t[1]})))}},{key:"_getResponse",value:function(e){return[200,201,400,401,409,500].includes(e.status)?e.json():Promise.reject(new Error("\u041e\u0448\u0438\u0431\u043a\u0430 api: ".concat(e.status)))}},{key:"register",value:function(e){return fetch("".concat(this._url).concat(this._register),{method:"POST",headers:this._headers,body:JSON.stringify(Object(j.a)({},this.filterKeys(e)))}).then(this._getResponse)}},{key:"authorizationPost",value:function(e){var t=e.password,a=e.email;return fetch("".concat(this._url).concat(this._login),{method:"POST",headers:this._headers,body:JSON.stringify({password:t,email:a})}).then(this._getResponse)}},{key:"getInfoForUser",value:function(e){return fetch("".concat(this._url).concat(this._user),{method:"GET",headers:{Accept:"application/json","Content-type":"application/json; charset=UTF-8",Authorization:"Bearer ".concat(e)}}).then(this._getResponse)}},{key:"getInfoForMovies",value:function(e){return fetch("".concat(this._url).concat(this._movies),{method:"GET",headers:{Accept:"application/json","Content-type":"application/json; charset=UTF-8",Authorization:"Bearer ".concat(e)}}).then(this._getResponse)}},{key:"getInfoForCards",value:function(){return fetch("".concat(this._url).concat(this._cards),{method:"GET",headers:{Authorization:"Bearer ".concat(this.token),"Content-type":"application/json; charset=UTF-8"}}).then(this._getResponse)}},{key:"getMovies",value:function(){return fetch("".concat(this._url).concat(this._movies),{method:"GET",headers:{Accept:"application/json","Content-type":"application/json; charset=UTF-8"}}).then(this._getResponse)}},{key:"updateUserInfo",value:function(e){return fetch("".concat(this._url).concat(this._user),{method:"PATCH",headers:{Accept:"application/json","Content-type":"application/json; charset=UTF-8",Authorization:"Bearer ".concat(this.token)},body:JSON.stringify(Object(j.a)({},this.filterKeys(e)))}).then(this._getResponse)}},{key:"addCard",value:function(e){var t=e.name,a=e.link;return fetch("".concat(this._url).concat(this._cards),{method:"POST",headers:{Authorization:"Bearer ".concat(this.token),"Content-type":"application/json; charset=UTF-8"},body:JSON.stringify({name:t,link:a})}).then(this._getResponse)}},{key:"changeLikeCardStatus",value:function(e,t){var a=t?"PUT":"DELETE";return fetch("".concat(this._url).concat(this._cards,"/").concat(e,"/likes"),{method:a,headers:{Authorization:"Bearer ".concat(this.token),"Content-type":"application/json; charset=UTF-8"}}).then(this._getResponse)}},{key:"deleteCard",value:function(e){return fetch("".concat(this._url).concat(this._cards,"/").concat(e),{method:"DELETE",headers:{Authorization:"Bearer ".concat(this.token),"Content-type":"application/json; charset=UTF-8"}}).then(this._getResponse)}},{key:"changeSaveMoviesStatus",value:function(e,t){var a=e._id,n=e.id,c=e.nameRU,i=e.nameEN,r=e.director,s=e.country,o=e.duration,l=e.year,u=e.description,d=e.image,j=e.trailerLink,m=e.thumbnail,p="".concat(t?this._movies:"".concat(this._movies,"/").concat(a)),h=t?"POST":"DELETE";return fetch("".concat(this._url).concat(p),{method:h,headers:{Accept:"application/json","Content-type":"application/json; charset=UTF-8",Authorization:"Bearer ".concat(this.token)},body:"".concat(t?JSON.stringify({nameRU:c,nameEN:i,director:r,country:s,duration:o,year:l,id:n,description:u,image:d,trailerLink:j,thumbnail:m}):"")}).then(this._getResponse)}}]),e}(),ie=new(function(e){Object(te.a)(a,e);var t=Object(ae.a)(a);function a(e){var n=e.url,c=e.movies,i=e.cards,r=e.user,s=e.register,o=e.login,l=e.headers;return Object(ee.a)(this,a),t.call(this,{url:n,movies:c,cards:i,user:r,register:s,login:o,headers:l})}return a}(ce))({url:"https://api.interind.students.nomoredomains.monster/",cards:"cards",movies:"movies",user:"users/me",register:"signup",login:"signin",headers:{"Content-type":"application/json; charset=UTF-8"}});a(289);var re=function(e){var t=e.onEditProfile,a=e.isLoadingButton,i=e.signOut,r=e.onHeader,s=e.stateHeader,o=c.a.useContext(b),l=o.name,u=o.email,d=Object(n.useState)({name:l||"",email:u||""}),p=Object(m.a)(d,2),f=p[0],O=p[1],v=Object(n.useState)(!0),_=Object(m.a)(v,2),x=_[0],N=_[1],k=Object(n.useState)({}),S=Object(m.a)(k,2),F=S[0],P=S[1],w=a?"\u041e\u0442\u043f\u0440\u0430\u0432\u043a\u0430...":"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c";return Object(n.useEffect)((function(){s||r(!0)}),[r,s]),Object(g.jsx)("section",{className:"Profile",children:Object(g.jsxs)(A,{className:"Profile-form",nameFrom:"profile-form",onSubmit:function(e){e.preventDefault(),localStorage.getItem("email")===h.email?t(h):t(f)},children:[Object(g.jsx)(C,{place:"profile",children:"\u041f\u0440\u0438\u0432\u0435\u0442, ".concat(l,"!")}),Object(g.jsx)(q,{name:l,email:u,profileMessage:F,setEditProfile:function(e){O(Object(j.a)(Object(j.a)({},f),{},Object(M.a)({},e.target.name,e.target.value.trim()))),Array.from(e.target.form).some((function(e){return e.validationMessage}))?N(!0):N(!1)},validationProfile:function(e){return e.target.validity.valid?P(Object(M.a)({},e.target.name,"")):P(Object(M.a)({},e.target.name,e.target.validationMessage))}}),Object(g.jsx)(y,{className:"Button__profile-edit",type:"submit",title:"\u0438\u0437\u043c\u0435\u043d\u0438\u0442\u044c",status:x,children:w}),Object(g.jsx)(y,{className:"Button__profile-exit",onChange:i,type:"button",title:"\u0432\u044b\u0439\u0442\u0438",children:"\u0412\u044b\u0439\u0442\u0438 \u0438\u0437 \u043f\u0440\u043e\u0444\u0438\u043b\u044f"})]})})};a(290);var se=function(e){var t=e.data,a=e.toggleEventListenerWindowClick,i=t.message,r=void 0===i?"":i,s=t.type,o=void 0===s?"":s,l=t.visible;return Object(n.useEffect)((function(){return l&&a(!0),function(){a(!1)}}),[l,a]),Object(g.jsx)(c.a.Fragment,{children:l&&Object(g.jsx)("div",{className:"InfoTool",children:o?Object(g.jsx)("h2",{className:"InfoTool__title InfoTool__title_theme_green",children:r}):Object(g.jsx)("h2",{className:"InfoTool__title InfoTool__title_theme_red",children:r})})})},oe=(a(291),function(e){return new Promise((function(t,a){var n=new Image;n.src=e,n.onload=function(){return t(e)},n.onerror=function(){return a(new Error("\u043e\u0448\u0438\u0431\u043a\u0430 \u0441\u0441\u044b\u043b\u043a\u0438"))}}))});a(292);var le=function(e){var t=e.buttonLoading,a=e.onAddPlace,n="form-place",i=("".concat(t?"\u0421\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u0438\u0435...":"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"),{place:localStorage.getItem("place"),link:localStorage.getItem("link")}),r=c.a.useState({place:i.place||"",link:i.link||""}),s=Object(m.a)(r,2),o=s[0],l=s[1],u=c.a.useState({place:"",link:""}),d=Object(m.a)(u,2),p=d[0],h=d[1],b=c.a.useState(!0),f=Object(m.a)(b,2),O=f[0],v=f[1];return Object(g.jsx)("section",{className:"AddPlaceForm",children:Object(g.jsxs)(A,{className:"AddPlaceForm-container",nameFrom:n,onSubmit:function(e){e.preventDefault(),oe(o.link).then((function(){return a(o),function(e){localStorage.removeItem("place"),localStorage.removeItem("link"),v(!0),e.target.reset(),l(Object(j.a)(Object(j.a)({},o),{},{place:"",link:""}))}(e)})).catch((function(e){h(Object(j.a)(Object(j.a)({},p),{},{link:e.message}))}))},children:[Object(g.jsx)(H,{link:o.link,place:o.place,placeMessage:p,editPlace:function(e){l(Object(j.a)(Object(j.a)({},o),{},Object(M.a)({},e.target.name,e.target.value.trim()))),function(e){var t=e.place,a=void 0===t?o.place:t,n=e.link,c=void 0===n?o.link:n;localStorage.setItem("place",a),localStorage.setItem("link",c)}(Object(M.a)({},e.target.name,e.target.value)),Array.from(e.target.form).some((function(e){return e.validationMessage}))?v(!0):v(!1)},validationPlace:function(e){return e.target.validity.valid?h(Object(M.a)({},e.target.name,"")):h(Object(M.a)({},e.target.name,e.target.validationMessage))}}),Object(g.jsx)(y,{className:"Button-Add",type:"submit",title:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c",status:O,children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043a\u0430\u0440\u0442\u0438\u043d\u043a\u0443"})]})})};var ue=function(e){var t=e.component,a=e.cards,i=e.onAddPlace,r=e.buttonLoading,s=e.handleCardLike,o=e.handleCardClick,l=e.handleCardDelete,u=Object(g.jsx)("p",{className:"CardList__not-found",children:"\u041a\u0430\u0440\u0442\u0438\u043d\u043e\u043a \u0435\u0449\u0435 \u043d\u0435\u0442"}),d=Object(n.useState)(4),j=Object(m.a)(d,2),p=j[0],h=j[1];return Object(g.jsxs)(c.a.Fragment,{children:[Object(g.jsx)(le,{onAddPlace:i,buttonLoading:r}),Object(g.jsxs)("section",{className:"CardList",children:[a.length>0&&a.slice(0,p).map((function(e){return Object(g.jsx)(t,{card:e,onCardLike:s,onCardClick:o,onCardDelete:l},e.createdAt+e._id)})),a.length<=0&&u,a.length>0&&a.length>p&&Object(g.jsx)(y,{className:"Button-CardList",type:"button",title:"\u0415\u0449\u0451",onChange:function(){return h(p+4)},children:"\u0435\u0449\u0451 --\x3e"})]})]})};a(293);var de=function(e){var t=e.onHeader,a=e.stateHeader,c=Object(p.g)();return Object(n.useEffect)((function(){a&&t(!1)}),[t,a]),Object(g.jsxs)("div",{className:"NotFound",children:[Object(g.jsx)("h2",{className:"NotFound__title",children:"404"}),Object(g.jsx)("p",{className:"NotFound__subtitle",children:"\u0421\u0442\u0440\u0430\u043d\u0438\u0446\u0430 \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u0430"}),Object(g.jsx)(y,{className:"Button__goBack",type:"button",title:"\u041d\u0430\u0437\u0430\u0434",onChange:c.goBack,children:"\u041d\u0430\u0437\u0430\u0434"})]})};a(294);var je=function(e){var t=e.onRegister,a=e.buttonLoading,c=e.onHeader,i=e.stateHeader,r=e.loggedIn,s=Object(p.g)(),o=Object(n.useState)({name:"",email:"",password:""}),l=Object(m.a)(o,2),u=l[0],d=l[1],h=Object(n.useState)(!0),b=Object(m.a)(h,2),f=b[0],O=b[1],v=Object(n.useState)({}),_=Object(m.a)(v,2),x=_[0],k=_[1],S=a?"\u041f\u0440\u043e\u0432\u0435\u0440\u043a\u0430...":"\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f",F=I()("Button__register",{Button__disabled:f});return Object(n.useEffect)((function(){r&&s.push("/movies")}),[s,r]),Object(n.useEffect)((function(){i&&c(!1)}),[c,i]),Object(g.jsx)("section",{className:"Register",children:Object(g.jsxs)(A,{className:"Register-form",nameFrom:"register-form",onSubmit:function(e){e.preventDefault(),u.password&&u.email&&u.name&&t(u).then((function(){d(Object(j.a)(Object(j.a)({},u),{},{name:"",email:"",password:""}))})).catch((function(e){return e}))},children:[Object(g.jsx)(C,{component:R,place:"register",children:"\u0414\u043e\u0431\u0440\u043e \u043f\u043e\u0436\u0430\u043b\u043e\u0432\u0430\u0442\u044c!"}),Object(g.jsx)(U,{name:u.name,password:u.password,email:u.email,placeMessage:x,setEditRegister:function(e){d(Object(j.a)(Object(j.a)({},u),{},Object(M.a)({},e.target.name,e.target.value.trim()))),Array.from(e.target.form).some((function(e){return e.validationMessage}))?O(!0):O(!1)},validationCheck:function(e){return e.target.validity.valid?k(Object(M.a)({},e.target.name,"")):k(Object(M.a)({},e.target.name,e.target.validationMessage))}}),Object(g.jsx)(y,{className:F,type:"submit",title:"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f",status:f,children:S}),Object(g.jsxs)(J,{place:"register",children:[Object(g.jsx)("span",{children:"\u0423\u0436\u0435 \u0437\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u043d\u044b?"}),Object(g.jsx)(N,{links:[{path:"/signin",text:"\u0412\u043e\u0439\u0442\u0438",active:"",title:"\u041f\u0435\u0440\u0435\u0439\u0442\u0438 \u043d\u0430 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0443 \u0430\u0432\u0442\u043e\u0440\u0438\u0437\u0430\u0446\u0438\u0438",type:"local"}],place:"register"})]})]})})};a(295);var me=function(){return Object(g.jsx)("div",{className:"Preloader"})},pe=new(function(e){Object(te.a)(a,e);var t=Object(ae.a)(a);function a(e){var n=e.url,c=e.movies,i=e.headers;return Object(ee.a)(this,a),t.call(this,{url:n,movies:c,headers:i})}return a}(ce))({url:"https://api.nomoreparties.co/",movies:"beatfilm-movies",headers:{"Content-type":"application/json; charset=UTF-8"}});a(296);var he=function(e){var t=e.isCard,a=e.isOpen,n=e.onClose,i=e.buttonLoading,r=e.onDeleteCard,s=e.toggleEventListenerWindow,o="delete",l="\u0412\u044b \u0443\u0432\u0435\u0440\u0435\u043d\u044b?";return"".concat(i?"\u0423\u0434\u0430\u043b\u044f\u0435\u043c...":"\u0414\u0430"),Object(g.jsx)(c.a.Fragment,{children:Object(g.jsx)("div",{className:"DeleteForm",children:Object(g.jsx)(G,{isOpen:a,modifier:o,closePopup:n,toggleEventListenerWindow:s,children:Object(g.jsxs)(A,{className:"DeleteForm-container",nameFrom:o,onSubmit:function(e){e.preventDefault(),r(t)},children:[Object(g.jsx)("h2",{className:"DeleteForm-title",children:l}),Object(g.jsx)(y,{className:"Button-Submit",type:"submit",title:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c",children:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u043a\u0430\u0440\u0442\u0438\u043d\u043a\u0443"}),Object(g.jsx)(y,{className:"Button-Close",type:"button",title:"\u0437\u0430\u043a\u0440\u044b\u0442\u044c",onChange:n})]})})})})};a(297);var be=function(e){var t=e.onHeader,a=e.stateHeader,i=e.movies,r=e.userMovies,s=e.onSearch,o=e.toggleMovies,l=c.a.useState(!0),u=Object(m.a)(l,2),d=u[0],j=u[1];return Object(n.useEffect)((function(){var e=JSON.stringify(i);localStorage.setItem("movies-save",e)}),[i]),Object(n.useEffect)((function(){a||t(!0)}),[t,a]),Object(g.jsxs)(c.a.Fragment,{children:[Object(g.jsx)(Z,{nameFrom:"saved-movies",onFilter:function(e){j(e.target.checked)},onSearch:s,statusCheck:d}),d&&Object(g.jsx)(Q,{movies:i,component:X,userMovies:r,toggleMovies:o}),!d&&Object(g.jsx)(Q,{movies:i,component:X,userMovies:r,toggleMovies:o})]})};a(298);var fe=function(e){var t=e.selectedCard,a=e.onClose,n=e.isOpen,c=e.toggleEventListenerWindow,i={name:"image",link:f};return Object(g.jsx)(G,{isOpen:n,modifier:i.name,closePopup:a,toggleEventListenerWindow:c,children:Object(g.jsxs)("div",{className:"ImageForPopup",children:[Object(g.jsx)("img",{className:"ImageForPopup__pic",src:t.link||i.link,alt:t.name||"\u043a\u0430\u0440\u0442\u0438\u043d\u043a\u0430"}),Object(g.jsx)("span",{className:"ImageForPopup__place-pic",children:t.name})]})})},ge=function(e){Object(te.a)(a,e);var t=Object(ae.a)(a);function a(e){var n;return Object(ee.a)(this,a),(n=t.call(this,e)).state={error:null,errorInfo:null},n}return Object(ne.a)(a,[{key:"componentDidCatch",value:function(e,t){this.setState({error:e,errorInfo:t})}},{key:"render",value:function(){var e=this.state,t=e.errorInfo,a=e.error;return t?Object(g.jsxs)("div",{children:[Object(g.jsx)("h2",{children:"\u0427\u0442\u043e-\u0442\u043e \u043f\u043e\u0448\u043b\u043e \u043d\u0435 \u0442\u0430\u043a!"}),Object(g.jsxs)("details",{style:{whiteSpace:"pre-wrap"},children:[a&&a.toString(),Object(g.jsx)("br",{}),t.componentStack]})]}):this.props.children}}]),a}(c.a.Component),Oe=a(138),ve=function(e){var t=e.footer,a=e.children,n=Object(Oe.a)(e,["footer","children"]);return Object(g.jsx)(p.b,{children:function(){return n.loggedIn?Object(g.jsxs)(c.a.Fragment,{children:[a,t&&Object(g.jsx)(t,{})]}):Object(g.jsx)(p.a,{to:"/signin"})}})};a(299);var _e=function(){var e=Object(p.g)(),t={path:"/",text:"\u0413\u043b\u0430\u0432\u043d\u0430\u044f",active:"",title:"\u041f\u0435\u0440\u0435\u0439\u0442\u0438 \u043d\u0430 \u0433\u043b\u0430\u0432\u043d\u0443\u044e \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0443",type:"local"},a=[{path:"/profile",text:"",active:"",title:"\u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0430 \u043f\u0440\u043e\u0444\u0438\u043b\u044f",type:"local"}],n=[{path:"/movies",text:"\u0424\u0438\u043b\u044c\u043c\u044b",active:"",title:"\u041f\u0435\u0440\u0435\u0439\u0442\u0438 \u043d\u0430 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0443 \u043f\u043e\u0438\u0441\u043a\u0430 \u0444\u0438\u043b\u044c\u043c\u043e\u0432",type:"local"},{path:"/saved-movies",text:"\u0421\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u043d\u044b\u0435 \u0424\u0438\u043b\u044c\u043c\u044b",active:"",title:"\u041f\u0435\u0440\u0435\u0439\u0442\u0438 \u043d\u0430 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0443 \u043f\u043e\u0438\u0441\u043a\u0430 \u0444\u0438\u043b\u044c\u043c\u043e\u0432",type:"local"},{path:"/cards",text:"\u041a\u0430\u0440\u0442\u0438\u043d\u043a\u0438",active:"",title:"\u041f\u0435\u0440\u0435\u0439\u0442\u0438 \u043a \u043a\u0430\u0440\u0442\u0438\u043d\u043a\u0430\u043c",type:"local"}],i=[{path:"/signup",text:"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f",active:"",title:"\u041f\u0435\u0440\u0435\u0439\u0442\u0438 \u043d\u0430 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0443 \u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u0438",type:"local"},{path:"/signin",text:"\u0412\u043e\u0439\u0442\u0438",active:"active",title:"\u041f\u0435\u0440\u0435\u0439\u0442\u0438 \u043d\u0430 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0443 \u0430\u0432\u0442\u043e\u0440\u0438\u0437\u0430\u0446\u0438\u0438",type:"local"}],r=c.a.useState({}),s=Object(m.a)(r,2),o=s[0],f=s[1],v=c.a.useState(!1),_=Object(m.a)(v,2),x=_[0],k=_[1],C=c.a.useState({}),S=Object(m.a)(C,2),F=S[0],P=S[1],w=c.a.useState(!1),M=Object(m.a)(w,2),E=M[0],I=M[1],R=c.a.useState([]),A=Object(m.a)(R,2),T=A[0],B=A[1],H=c.a.useState({name:"",email:"",_id:""}),q=Object(m.a)(H,2),D=q[0],U=q[1],z=c.a.useState(!0),Y=Object(m.a)(z,2),Z=Y[0],Q=Y[1],X=c.a.useState(!0),ee=Object(m.a)(X,2),te=ee[0],ae=ee[1],ne=c.a.useState(!1),ce=Object(m.a)(ne,2),oe=ce[0],le=ce[1],Oe=c.a.useState(!1),_e=Object(m.a)(Oe,2),xe=_e[0],Ne=_e[1],ke=c.a.useState({message:"",type:!0,visible:!1}),ye=Object(m.a)(ke,2),Ce=ye[0],Se=ye[1],Fe=c.a.useState([]),Pe=Object(m.a)(Fe,2),we=Pe[0],Le=Pe[1],Me=c.a.useState([]),Ee=Object(m.a)(Me,2),Ie=Ee[0],Re=Ee[1],Ae=c.a.useState([]),Te=Object(m.a)(Ae,2),Be=Te[0],He=Te[1],qe=c.a.useState([]),De=Object(m.a)(qe,2),Ue=De[0],ze=De[1],Je=c.a.useState(!1),We=Object(m.a)(Je,2),Ge=We[0],Ve=We[1],Ke=c.a.useCallback((function(e,t,a){a&&Se(Object(j.a)(Object(j.a)({},Ce),{},{message:e,type:t,visible:a}))}),[Ce]);function Ye(e){ae(e)}function Ze(e,t){return e.filter((function(e){return t?e.duration<=t:e.duration>40}))}function Qe(e,t){return new Promise((function(a){return e.length>0?a(e.filter((function(e){return JSON.stringify(e.nameRU).toLowerCase().includes(t.toLowerCase())||JSON.stringify(e.nameEN).toLowerCase().includes(t.toLowerCase())}))):a(e)}))}function Xe(e,t,a){setTimeout((function(){le(!0)}),100),setTimeout((function(){le(!1)}),1e3),!0===e?"movies"===t?Qe(we,a).then((function(e){e.length<=0&&(Re(Ze(e)),Ke("\u041d\u0438\u0447\u0435\u0433\u043e \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u043e",!1,!0)),Re(Ze(e))})).catch((function(e){return Ke("\u043e\u0448\u0438\u0431\u043a\u0430 \u0444\u0438\u043b\u044c\u0442\u0440\u0430 ".concat(e.name||"?"),!1,!0)})).finally((function(){return le(!1)})):Qe(Ue,a).then((function(e){e.length<=0&&(He(Ze(e)),Ke("\u041d\u0438\u0447\u0435\u0433\u043e \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u043e",!1,!0)),He(Ze(e))})).catch((function(e){return Ke("\u043e\u0448\u0438\u0431\u043a\u0430 \u0444\u0438\u043b\u044c\u0442\u0440\u0430 ".concat(e.name||"?"),!1,!0)})).finally((function(){return le(!1)})):!1===e&&("movies"===t?Qe(we,a).then((function(e){e.length<=0&&(Re(Ze(e,40)),Ke("\u041d\u0438\u0447\u0435\u0433\u043e \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u043e",!1,!0)),Re(Ze(e,40))})).catch((function(e){return Ke("\u043e\u0448\u0438\u0431\u043a\u0430 \u0444\u0438\u043b\u044c\u0442\u0440\u0430 ".concat(e.name||"?"),!1,!0)})).finally((function(){return le(!1)})):Qe(Ue,a).then((function(e){e.length<=0&&(He(Ze(e,40)),Ke("\u041d\u0438\u0447\u0435\u0433\u043e \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u043e",!1,!0)),He(Ze(e,40))})).catch((function(e){return Ke("\u043e\u0448\u0438\u0431\u043a\u0430 \u0444\u0438\u043b\u044c\u0442\u0440\u0430 ".concat(e.name||"?"),!1,!0)})).finally((function(){return le(!1)})))}var $e=function(){k(!1),Ne(!1),I(!1)};function et(){Se(Object(j.a)(Object(j.a)({},Ce),{},{message:"",visible:!1}))}var tt=function(e){"Escape"===e.key&&$e()};function at(e){return nt.apply(this,arguments)}function nt(){return(nt=Object(d.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t?window.addEventListener("keydown",tt):window.removeEventListener("keydown",tt);case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ct(){return(ct=Object(d.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t?window.addEventListener("click",et):window.removeEventListener("click",et);case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var it=c.a.useCallback((function(){localStorage.clear(),U({}),Q(!1),Ke("\u0412\u044b \u0432\u044b\u0448\u043b\u0438 \u0438\u0437 \u0441\u0438\u0441\u0442\u0435\u043c\u044b",!1,!0)}),[Ke]);function rt(e){var t=e,a=Ue.some((function(t){return t.id===e.id}));a&&!e._id&&(t=Ue.find((function(t){return t.id===e.id}))),ie.changeSaveMoviesStatus(t,!a).then((function(t){if(a){var n=Ue.filter((function(t){return t.id!==e.id})),c=Be.filter((function(t){return t.id!==e.id}));ze(n),He(c),Ke(t.message,!1,!0)}else ze([].concat(Object(u.a)(Ue),[t])),He([].concat(Object(u.a)(Be),[t])),Ke("\u0424\u0438\u043b\u044c\u043c \u0441\u043e\u0445\u0440\u0430\u043d\u0435\u043d",!0,!0)})).catch((function(e){return Ke(e.message,!1,!0)}))}return c.a.useEffect((function(){if(Z&&localStorage.getItem("jwt")){var e=localStorage.getItem("jwt");ie.token=e,Promise.all([ie.getInfoForUser(e),ie.getInfoForMovies(e),ie.getInfoForCards(e),pe.getMovies()]).then((function(e){var t=Object(m.a)(e,4),a=t[0],n=t[1],c=t[2],i=t[3];return(!(a&&n&&c)||a.error&&n.error)&&(Se({message:"\u043e\u0448\u0438\u0431\u043a\u0430 \u0434\u0430\u043d\u043d\u044b\u0445",type:!1,visible:!0}),Promise.reject(new Error("\u043e\u0448\u0438\u0431\u043a\u0430 \u0434\u0430\u043d\u043d\u044b\u0445"))),le(!0),Q(!0),ze(n),He(n),B(c),U(Object(j.a)({},a)),localStorage.setItem("email",a.email),localStorage.setItem("name",a.name),function(e){var t=function(e){return/^(http)+/.test(e)?e:"https://api.nomoreparties.co".concat(e)};return e.map((function(e){var a=(e.image?e.image:"https://avatars.mds.yandex.net/get-zen_doc/1881616/pub_5e1ea9963639e600ad0cfebb_5e21840e86c4a900ac971659/scale_1200").url;return{image:t(a),nameEN:e.nameEN||"Not names films",nameRU:e.nameRU||"\u0424\u0438\u043b\u044c\u043c \u0431\u0435\u0437 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u044f",country:e.country||"\u0420\u043e\u0441\u0441\u0438\u044f",director:e.director||"\u043d\u0435\u0438\u0437\u0432\u0435\u0441\u0442\u043d\u044b\u0439",duration:e.duration||100,year:e.year||2021,description:e.description||"\u0431\u0435\u0437 \u043a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0435\u0432",id:e.id,trailerLink:e.trailerLink,thumbnail:t(a)}}))}(i)})).then((function(e){Le(e)})).catch((function(e){localStorage.clear(),Q(!1),Se({message:e.message,type:!1,visible:!0})})).finally((function(){return le(!1)}))}else localStorage.clear(),Q(!1)}),[Z]),c.a.useEffect((function(){if(localStorage.getItem("movies")){var e=JSON.parse(localStorage.getItem("movies"));Re(e)}else if(localStorage.getItem("movies-save")){var t=JSON.parse(localStorage.getItem("movies-save"));He(t)}}),[]),c.a.useEffect((function(){localStorage.getItem("email")||(localStorage.setItem("email",h.email),localStorage.setItem("password",h.password))}),[]),Object(g.jsx)(c.a.Fragment,{children:Object(g.jsx)(b.Provider,{value:D,children:Object(g.jsx)(ge,{children:Object(g.jsxs)("div",{className:"App",children:[te&&Object(g.jsx)(V,{openPopup:function(){Ne(!0)},children:Z?Object(g.jsxs)(J,{place:"header",children:[Object(g.jsx)(N,{links:n,place:"header",onChange:$e}),Object(g.jsx)(N,{links:a,place:"avatar",onChange:$e})]}):Object(g.jsxs)(J,{place:"header",children:[Object(g.jsx)(N,{links:[t],onChange:$e}),Object(g.jsx)(N,{links:i,place:"header",onChange:$e})]})}),Object(g.jsxs)(G,{isOpen:xe,closePopup:$e,toggleEventListenerWindow:at,children:[Object(g.jsx)(y,{title:"\u0417\u0430\u043a\u0440\u044b\u0442\u044c",type:"button",className:"Button__close_place_header",onChange:$e}),Object(g.jsx)(J,{place:"popup",children:Z?Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(N,{links:[t].concat(n),place:"popup",onChange:$e}),Object(g.jsx)(N,{links:a,place:"avatar-popup",onChange:$e})]}):Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(N,{links:[t],place:"popup",onChange:$e}),Object(g.jsx)(N,{links:i,place:"popup",onChange:$e})]})})]}),Ce.visible&&Object(g.jsx)(se,{data:Ce,toggleEventListenerWindowClick:function(e){return ct.apply(this,arguments)}}),Z&&oe&&Object(g.jsx)(me,{}),Object(g.jsxs)(p.d,{children:[Object(g.jsxs)(p.b,{path:"/",exact:!0,children:[Object(g.jsx)(L,{onHeader:Ye,stateHeader:te}),Object(g.jsx)(K,{})]}),Object(g.jsx)(ve,{path:"/movies",exact:!0,loggedIn:Z,footer:K,children:Object(g.jsx)($,{movies:Ie,userMovies:Ue,stateHeader:te,onSearch:Xe,onHeader:Ye,toggleMovies:rt})}),Object(g.jsx)(ve,{path:"/saved-movies",exact:!0,loggedIn:Z,footer:K,children:Object(g.jsx)(be,{movies:Be,stateHeader:te,userMovies:Ue,onHeader:Ye,onSearch:Xe,toggleMovies:rt})}),Object(g.jsx)(ve,{path:"/cards",exact:!0,loggedIn:Z,footer:K,children:Object(g.jsx)(ue,{component:O,cards:T,handleCardLike:function(e){var t=e.likes,a=e._id,n=t.some((function(e){return e===D._id}));ie.changeLikeCardStatus(a,!n).then((function(e){var t=T.map((function(t){return t._id===a?e:t}));B(t)})).catch((function(e){return Ke("\u0418\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f cards error: ".concat(e.message),!1,!0)}))},onAddPlace:function(e){var t=e.place,a=e.link;return Ve(!0),ie.addCard({name:t,link:a}).then((function(e){return!e||e.error||e.message?Ke("\u043e\u0448\u0438\u0431\u043a\u0430 \u0434\u0430\u043d\u043d\u044b\u0445",!1,!0):(B([e].concat(Object(u.a)(T))),Se(Object(j.a)(Object(j.a)({},Ce),{},{message:"\u041a\u0430\u0440\u0442\u043e\u0447\u043a\u0430 \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0430",type:!0,visible:!0})),Promise.resolve())})).catch((function(e){return Ke("\u0418\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f cards error: ".concat(e.message),!1,!0)})).finally((function(){Ve(!1)}))},buttonLoading:Ge,handleCardClick:function(e){var t=Object.assign({},e);P(Object(j.a)({},t)),I(!0)},handleCardDelete:function(e){k(!0),f(e)}})}),Object(g.jsx)(ve,{path:"/profile",exact:!0,loggedIn:Z,children:Object(g.jsx)(re,{stateHeader:te,signOut:it,onHeader:Ye,onEditProfile:function(e){Ve(!0),le(!0),ie.updateUserInfo(e).then((function(e){!e||e.error?Ke("\u043e\u0448\u0438\u0431\u043a\u0430 \u0434\u0430\u043d\u043d\u044b\u0445",!1,!0):(U(Object(j.a)(Object(j.a)({},D),e)),Ke("\u0414\u0430\u043d\u043d\u044b\u0435 \u0437\u0430\u043c\u0435\u043d\u0435\u043d\u044b \u0443\u0441\u043f\u0435\u0448\u043d\u043e",!0,!0))})).catch((function(e){return Ke("\u0418\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f \u0441 \u043e\u0448\u0438\u0431\u043a\u043e\u0439 ".concat(e.name),!1,!0)})).finally((function(){Ve(!1),le(!1)}))}})}),Object(g.jsx)(p.b,{path:"/signup",exact:!0,children:Object(g.jsx)(je,{loggedIn:Z,stateHeader:te,buttonLoading:Ge,onHeader:Ye,onRegister:function(t){return Ve(!0),ie.register(t).then((function(t){return!t||t.error||t.message?(Ke("".concat(t.error?t.error:t.message,"!"),!1,!0),Promise.reject(t.err)):(Ve(!1),localStorage.setItem("email",t.email),localStorage.setItem("name",t.name),U(Object(j.a)(Object(j.a)({},D),{},{email:t.email,name:t.name})),Se(Object(j.a)(Object(j.a)({},Ce),{},{message:"".concat(t.name," \u041c\u044b \u0432\u0430\u0441 \u0434\u043e\u0431\u0430\u0432\u0438\u043b\u0438!"),type:!0,visible:!0})),e.push("/signin"),Promise.resolve())})).catch((function(e){return Ke(e.message,!1,!0)})).finally((function(){return Ve(!1)}))}})}),Object(g.jsx)(p.b,{path:"/signin",exact:!0,children:Object(g.jsx)(W,{loggedIn:Z,onLogin:function(e,t){return Ve(!0),ie.authorizationPost(Object(j.a)({},t)).then((function(t){return t.token?(localStorage.setItem("jwt",t.token),function(e){e.preventDefault(),Q(!0),le(!0)}(e),Se(Object(j.a)(Object(j.a)({},Ce),{},{message:"\u0414\u043e\u0431\u0440\u043e \u043f\u043e\u0436\u0430\u043b\u043e\u0432\u0430\u0442\u044c \u043d\u0430 \u043f\u0440\u043e\u0435\u043a\u0442 Movies",type:!0,visible:!0})),Promise.resolve()):(Ke(t.message,!1,!0),Promise.reject(t.err))})).catch((function(e){return Ke(e.message,!1,!0)})).finally((function(){Ve(!1),le(!1)}))},onHeader:Ye,stateHeader:te,buttonLoading:Ge})}),Object(g.jsx)(p.b,{path:"*",children:Object(g.jsx)(de,{stateHeader:te,onHeader:Ye})})]}),Object(g.jsx)(he,{isCard:o,buttonLoading:Ge,isOpen:x,onClose:$e,onDeleteCard:function(e){var t=e._id,a=t;return Ve(!0),ie.deleteCard(t).then((function(e){e.error&&Se(Object(j.a)(Object(j.a)({},Ce),{},{message:"".concat(e.error),type:!1,visible:!0})),B(T.filter((function(e){return e._id!==a}))),Se(Object(j.a)(Object(j.a)({},Ce),{},{message:"\u041a\u0430\u0440\u0442\u043e\u0447\u043a\u0430 \u0443\u0434\u0430\u043b\u0435\u043d\u0430",type:!0,visible:!0}))})).catch((function(e){return Ke("\u0418\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f cards error: ".concat(e.message),!1,!0)})).finally((function(){Ve(!1),$e()}))},toggleEventListenerWindow:at}),Object(g.jsx)(fe,{isOpen:E,selectedCard:F,onClose:$e,toggleEventListenerWindow:at})]})})})})};a(300);r.a.render(Object(g.jsx)(c.a.StrictMode,{children:Object(g.jsx)(s.a,{children:Object(g.jsx)(_e,{})})}),document.getElementById("root"))}},[[301,1,2]]]);
//# sourceMappingURL=main.0ecff0ca.chunk.js.map