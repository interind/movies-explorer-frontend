{"version":3,"sources":["utils/constants.js","context/CurrentUserContext.js","images/moviesCard/errorPic.jpg","components/Card/Card.js","utils/crypto.js","components/NavTab/NavTab.js","components/Promo/Promo.js","components/Button/Button.js","components/HeaderBar/HeaderBar.js","components/AboutProject/AboutProject.js","components/Techs/Techs.js","components/Portfolio/Portfolio.js","components/AboutMe/AboutMe.js","components/Main/Main.js","components/Logo/Logo.js","components/Form/Form.js","components/MarkupForForms/MarkupForForms.js","components/Navigation/Navigation.js","components/Login/Login.js","components/Popup/Popup.js","components/Header/Header.js","components/Footer/Footer.js","components/FilterCheckbox/FilterCheckbox.js","components/SearchForm/SearchForm.js","components/MoviesCardList/MoviesCardList.js","components/MoviesCard/MoviesCard.js","components/Movies/Movies.js","utils/Api.js","utils/MainApi.js","components/Profile/Profile.js","components/InfoTool/InfoTool.js","utils/utils.js","components/AddPlaceForm/AddPlaceForm.js","components/CardsList/CardList.js","components/NotFound/NotFound.js","components/Register/Register.js","components/Preloader/Preloader.js","utils/MoviesApi.js","components/DeleteForm/DeleteForm.js","components/SavedMovies/SavedMovies.js","components/ImageForPopup/ImageForPopup.js","components/Error/ErrorBoundary.js","components/ProtectedRoute/ProtectedRoute.js","components/App/App.js","index.js"],"names":["guest","email","password","CurrentUserContext","React","createContext","Card","card","onCardClick","onCardDelete","onCardLike","_id","useContext","useState","link","visible","setVisible","Fragment","className","src","alt","name","onError","notFound","onClick","owner","type","title","likes","find","id","map","length","cryptoKeys","string","secret","Date","now","toString","CryptoJS","HmacSHA1","NavTab","links","place","handleLinkClick","children","onChange","active","activeClassName","exact","to","path","text","href","target","rel","Promo","promo","evt","preventDefault","document","querySelector","hash","scrollIntoView","Button","status","disabled","HeaderBar","Component","component","AboutProject","description","info","includes","Techs","pageInfo","techs","Portfolio","portfolio","AboutMe","aboutMe","student","about","age","Main","onHeader","stateHeader","useEffect","window","scrollTo","Logo","page","history","useHistory","push","Form","nameFrom","onSubmit","Place","editPlace","validationPlace","placeMessage","propTypes","PropTypes","isRequired","func","object","inputValidClass","classes","AddPlaceForm__input_type_error","htmlFor","placeholder","minLength","defaultValue","maxLength","onInput","onFocus","required","Profile","setEditProfile","validationProfile","profileMessage","Profile__input_type_error","autoCorrect","autoCapitalize","Login","setEditLogin","validationCheck","Login__input_type_error","value","autoComplete","Register","setEditRegister","Register__input_type_error","Search","movie","setEditMovies","Navigation","loggedIn","onLogin","buttonLoading","localEmail","localStorage","getItem","localPassword","localName","login","setLogin","activeButton","setActiveButton","validCheck","setValidCheck","textButton","classButton","Button__disabled","verifiesAuthorization","then","catch","err","MarkupForForms","trim","Array","from","form","some","e","validationMessage","validity","valid","Popup","isOpen","modifier","closePopup","toggleEventListenerWindow","popup","Popup_opened","onMouseDown","currentTarget","Header","openPopup","Footer","footer","getFullYear","FilterCheckbox","classLabel","statusCheck","onFilter","checked","SearchForm","onSearch","searchMessage","setMovie","Button__search_disabled","setItem","MoviesCardList","movies","userMovies","toggleMovies","count","setCount","slice","mov","MoviesCard","image","classLike","car","trailerLink","nameRU","Math","floor","duration","Movies","setStatusCheck","films","JSON","stringify","Api","url","user","cards","register","headers","this","_url","_user","_cards","_movies","_login","_register","_headers","token","arg","Object","fromEntries","entries","filter","res","json","Promise","reject","Error","fetch","method","body","filterKeys","_getResponse","Accept","Authorization","infoId","isLike","toggleMethod","isSave","nameEN","director","country","year","thumbnail","mainApi","onEditProfile","isLoadingButton","signOut","profile","setProfile","InfoTool","data","toggleEventListenerWindowClick","message","imagesCheck","resolve","Image","onload","onerror","AddPlaceForm","onAddPlace","placePopup","addPlace","setAddPlace","validPlace","setValidPlace","removeItem","reset","clearInput","messageStorage","CardList","handleCardLike","handleCardClick","handleCardDelete","createdAt","NotFound","goBack","onRegister","setRegister","Preloader","moviesApi","DeleteForm","isCard","onClose","onDeleteCard","deletePopup","SavedMovies","ImageForPopup","selectedCard","ImagePopup","ErrorBoundary","props","state","error","errorInfo","setState","style","whiteSpace","componentStack","ProtectedRoute","App","avatar","moviesPage","dataLinks","setIsCard","isConfirmDeletePopupOpen","setConfirmDeletePopup","setSelectedCard","isOpenCard","setOpenCard","setCards","currentUser","setCurrentUser","setLoggedIn","setStateHeader","loading","setLoading","isStatusPopup","setStatusPopup","statusInfo","setStatusInfo","moviesData","setMoviesDate","filterData","setFilterDate","filterUserMovies","setFilterUserMovies","setUserMovies","setButtonLoading","infoMessage","useCallback","bool","filterTimes","arr","time","item","searchMovies","str","toLowerCase","nameForm","setTimeout","finally","closeAllPopups","closeInfo","closePopupEsc","key","a","addEventListener","removeEventListener","clear","handleSavedMovies","isSaved","c","i","changeSaveMoviesStatus","newCard","m","moviesFilter","all","getInfoForUser","getInfoForMovies","getInfoForCards","getMovies","dataUser","dataMovies","dataCards","regCheck","test","filterMovies","parse","filmsUser","Provider","isLiked","changeLikeCardStatus","newCards","addCard","updateUserInfo","infoUser","authorizationPost","handleLogin","idCard","deleteCard","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.f120b217.chunk.js","sourcesContent":["const guest = { email: 'guest@pochta.ru', password: '123456' };\r\n\r\nexport default guest;\r\n","import React from 'react';\r\n\r\nconst CurrentUserContext = React.createContext();\r\n\r\nexport default CurrentUserContext;\r\n","export default __webpack_public_path__ + \"static/media/errorPic.b39bbd5d.jpg\";","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport CurrentUserContext from '../../context/CurrentUserContext';\r\nimport notFound from '../../images/moviesCard/errorPic.jpg';\r\nimport './Card.css';\r\n\r\nfunction Card({\r\n  card,\r\n  onCardClick,\r\n  onCardDelete,\r\n  onCardLike,\r\n}) {\r\n  const { _id } = React.useContext(CurrentUserContext);\r\n  const [visible, setVisible] = React.useState(card.link);\r\n\r\n  return (\r\n    <React.Fragment>\r\n        <div className='Card'>\r\n          <img\r\n            src={visible}\r\n            alt={card.name}\r\n            className='Card__pic'\r\n            onError={() => {\r\n              setVisible(notFound);\r\n            }}\r\n            onClick={() => onCardClick(card)}\r\n          />\r\n          <button\r\n            className={`Card__button-trash ${\r\n              card.owner === _id\r\n                ? 'Card__button-trash_visible'\r\n                : ''\r\n            }`}\r\n            type='button'\r\n            title='кнопка удаления карточки'\r\n            onClick={() => onCardDelete(card)}\r\n          ></button>\r\n          <div className='Card__info'>\r\n            <h2 className='Card__title' title={card.name}>\r\n              {card.name}\r\n            </h2>\r\n            {card.likes && (\r\n              <div className='Card__like'>\r\n                <button\r\n                  className={`Card__button-like Card__button-like_color_white ${\r\n                    card.likes.find((id) => id === _id)\r\n                      ? 'Card__button-like_color_black'\r\n                      : ''\r\n                  }`}\r\n                  type='button'\r\n                  title='кнопка для лайков'\r\n                  onClick={() => onCardLike(card)}\r\n                ></button>\r\n                <span\r\n                  className='Card__counter-like'\r\n                  title={card.likes.map(() => '🖤')}\r\n                >\r\n                  {card.likes.length}\r\n                </span>\r\n              </div>\r\n            )}\r\n          </div>\r\n        </div>\r\n    </React.Fragment>\r\n  );\r\n}\r\n\r\nCard.propTypes = {\r\n  card: PropTypes.object,\r\n  onCardLike: PropTypes.func.isRequired,\r\n  onCardClick: PropTypes.func.isRequired,\r\n  onCardDelete: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default Card;\r\n","import CryptoJS from 'crypto-js';\r\n\r\nfunction cryptoKeys(string) {\r\n  const secret = Date.now().toString();\r\n  const keys = CryptoJS.HmacSHA1(string, secret).toString();\r\n  return keys;\r\n}\r\n\r\nexport default cryptoKeys;\r\n","import React from 'react';\r\nimport { NavLink } from 'react-router-dom';\r\nimport PropTypes from 'prop-types';\r\nimport cryptoKeys from '../../utils/crypto';\r\nimport './NavTab.css';\r\n\r\nfunction NavTab(\r\n  {\r\n    links,\r\n    place,\r\n    handleLinkClick,\r\n    children,\r\n    onChange,\r\n  },\r\n) {\r\n  return (\r\n      <ul className={`NavTab NavTab_place_${place || 'hidden'}`}>\r\n        {links.map((link) => <li key={cryptoKeys(link.path)} onClick={onChange} className={`NavTab__item NavTab__item_place_${place} ${link.active ? 'NavTab__item-active' : ''}`}>\r\n            {link.type === 'local' && (<NavLink className='NavTab__link' activeClassName={`${link.active ? '' : 'NavTab__link_active'}`} exact\r\n              to={link.path} title={link.title}>\r\n              {link.text} {children && children}\r\n            </NavLink>)}\r\n            { link.type === 'url' && (<a className='NavTab__link'\r\n              href={link.path} title={link.title} target='_blank' rel='noopener noreferrer'>\r\n              {link.text} {children && children}\r\n            </a>)}\r\n            {link.type === '' && (<NavLink className='NavTab__link'\r\n              to={link.path} title={link.title} onClick={handleLinkClick}>\r\n              {link.text} {children && children}\r\n            </NavLink>)}\r\n          </li>)}\r\n      </ul>\r\n  );\r\n}\r\n\r\nNavTab.propTypes = {\r\n  place: PropTypes.string,\r\n  links: PropTypes.array,\r\n  handleLinkClick: PropTypes.func,\r\n  hidden: PropTypes.bool,\r\n  children: PropTypes.object,\r\n  onChange: PropTypes.func,\r\n};\r\n\r\nexport default NavTab;\r\n","import React from 'react';\r\nimport NavTab from '../NavTab/NavTab';\r\nimport './Promo.css';\r\n\r\nfunction Promo() {\r\n  const promo = {\r\n    title: 'Учебный проект студента факультета Веб-разработки.',\r\n    place: 'promo',\r\n  };\r\n  const dataLinks = [\r\n    {\r\n      path: '#about-project',\r\n      text: 'О проекте',\r\n      type: '',\r\n      title: 'о проекте',\r\n    },\r\n    {\r\n      path: '#techs',\r\n      text: 'Технологии',\r\n      type: '',\r\n      title: 'технологии проекта',\r\n    },\r\n    {\r\n      path: '#about-me',\r\n      text: 'Студент',\r\n      type: '',\r\n      title: 'автор проекта',\r\n    },\r\n  ];\r\n  const handleLinkClick = (evt) => {\r\n    evt.preventDefault();\r\n    document.querySelector(evt.target.hash).scrollIntoView();\r\n  };\r\n  return (\r\n    <section className=\"Promo\" id={'promo'}>\r\n      <h1 className='Promo__title'>{promo.title}</h1>\r\n      <div className='Promo__nav-tab'>\r\n        <NavTab links={dataLinks} place={promo.place} handleLinkClick={handleLinkClick}/>\r\n      </div>\r\n    </section>\r\n  );\r\n}\r\n\r\nexport default Promo;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport './Button.css';\r\n\r\nfunction Button({\r\n  className = '',\r\n  status,\r\n  title,\r\n  type,\r\n  children,\r\n  onChange,\r\n}) {\r\n  return (\r\n    <button\r\n      className={`Button ${className}`}\r\n      type={type}\r\n      title={title}\r\n      disabled={status}\r\n      onClick={onChange}>\r\n        {children}\r\n    </button>\r\n  );\r\n}\r\n\r\nButton.propTypes = {\r\n  className: PropTypes.string.isRequired,\r\n  title: PropTypes.string.isRequired,\r\n  type: PropTypes.string.isRequired,\r\n  children: PropTypes.string,\r\n  onChange: PropTypes.func,\r\n  status: PropTypes.bool,\r\n};\r\n\r\nexport default Button;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport './HeaderBar.css';\r\n\r\nfunction HeaderBar({\r\n  component: Component,\r\n  place,\r\n  children,\r\n}) {\r\n  return (\r\n    <div className={`HeaderBar HeaderBar_place_${place}`}>\r\n      {Component && <Component />}\r\n      <h2 className={`HeaderBar__title HeaderBar__title_place_${place}`}>\r\n        {children}\r\n      </h2>\r\n    </div>\r\n  );\r\n}\r\n\r\nHeaderBar.propTypes = {\r\n  place: PropTypes.string.isRequired,\r\n  component: PropTypes.func,\r\n  children: PropTypes.any,\r\n};\r\n\r\nexport default HeaderBar;\r\n","import React from 'react';\r\nimport HeaderBar from '../HeaderBar/HeaderBar';\r\nimport cryptoKeys from '../../utils/crypto';\r\nimport './AboutProject.css';\r\n\r\nfunction AboutProject() {\r\n  const aboutProject = {\r\n    place: 'aboutProject',\r\n  };\r\n  const dataInfo = [\r\n    {\r\n      title: 'Дипломный проект включал 5 этапов',\r\n      description: 'Составление плана, работу над бэкендом, вёрстку, добавление функциональности и финальные доработки.',\r\n    },\r\n    {\r\n      title: 'На выполнение диплома ушло 5 недель',\r\n      description: 'У каждого этапа был мягкий и жёсткий дедлайн, которые нужно было соблюдать, чтобы успешно защититься.',\r\n    },\r\n  ];\r\n  const timeInfo = [\r\n    {\r\n      title: '1 неделя',\r\n      description: 'Back-end',\r\n    },\r\n    {\r\n      title: '4 недели',\r\n      description: 'Front-end',\r\n    },\r\n  ];\r\n  return (\r\n    <section className='AboutProject' id={'about-project'}>\r\n      <HeaderBar place={aboutProject.place}>\r\n        О проекте\r\n      </HeaderBar>\r\n      <div className='AboutProject__containers'>\r\n        { dataInfo.map((info) => <div key={cryptoKeys(info.title)} className='AboutProject__container'>\r\n            <h3 className='AboutProject__title'>{info.title}</h3>\r\n            <p className='AboutProject__subtitle'>{info.description}</p>\r\n        </div>)}\r\n        { timeInfo.map((info) => <div key={cryptoKeys(info.title)} className='AboutProject__container'>\r\n            <h3 className={`AboutProject__title AboutProject__title_theme_${info.title.includes('1') ? 'green' : 'gray'}`}>{info.title}</h3>\r\n            <p className='AboutProject__subtitle AboutProject__subtitle_theme_gray'>{info.description}</p>\r\n        </div>)}\r\n      </div>\r\n    </section>\r\n  );\r\n}\r\n\r\nexport default AboutProject;\r\n","import React from 'react';\r\nimport NavTab from '../NavTab/NavTab';\r\nimport HeaderBar from '../HeaderBar/HeaderBar';\r\nimport './Techs.css';\r\n\r\nfunction Techs() {\r\n  const pageInfo = {\r\n    title: '7 технологий',\r\n    subtitle: 'На курсе веб-разработки мы освоили технологии, которые применили в дипломном проекте.',\r\n  };\r\n  const techs = {\r\n    place: 'techs',\r\n  };\r\n  const dataLinks = [\r\n    {\r\n      path: 'https://html5book.ru/',\r\n      text: 'HTML',\r\n      active: '',\r\n      title: 'Перейти на страницу html5book.ru',\r\n      type: 'url',\r\n    },\r\n    {\r\n      path: 'https://developer.mozilla.org/ru/docs/Web/CSS',\r\n      text: 'CSS',\r\n      active: '',\r\n      title: 'Перейти на страницу developer.mozilla.org',\r\n      type: 'url',\r\n    },\r\n    {\r\n      path: 'https://learn.javascript.ru/',\r\n      text: 'JS',\r\n      active: '',\r\n      title: 'Перейти на страницу learn.javascript.ru',\r\n      type: 'url',\r\n    },\r\n    {\r\n      path: 'https://ru.reactjs.org/',\r\n      text: 'React',\r\n      active: '',\r\n      title: 'Перейти на страницу reactjs.org',\r\n      type: 'url',\r\n    },\r\n    {\r\n      path: 'https://git-scm.com/',\r\n      text: 'Git',\r\n      active: '',\r\n      title: 'Перейти на страницу git-scm.com',\r\n      type: 'url',\r\n    },\r\n    {\r\n      path: 'https://expressjs.com/ru/',\r\n      text: 'Express.js',\r\n      active: '',\r\n      title: 'Перейти на страницу expressjs.com',\r\n      type: 'url',\r\n    },\r\n    {\r\n      path: 'https://www.mongodb.com/',\r\n      text: 'mongoDB',\r\n      active: '',\r\n      title: 'Перейти на страницу mongodb.com',\r\n      type: 'url',\r\n    },\r\n  ];\r\n  return (\r\n    <section className='Techs' id={'techs'}>\r\n      <HeaderBar place={techs.place}>\r\n        Технологии\r\n      </HeaderBar>\r\n      <h3 className='Techs__title'>{pageInfo.title}</h3>\r\n      <p className='Techs__subtitle'>{pageInfo.subtitle}</p>\r\n    <NavTab place={techs.place} links={dataLinks}/>\r\n    </section>\r\n  );\r\n}\r\n\r\nexport default Techs;\r\n","import React from 'react';\r\nimport HeaderBar from '../HeaderBar/HeaderBar';\r\nimport NavTab from '../NavTab/NavTab';\r\nimport './Portfolio.css';\r\n\r\nfunction Portfolio() {\r\n  const portfolio = { place: 'portfolio' };\r\n  const dataLinks = [\r\n    {\r\n      path: 'https://interind.github.io/russian-travel/index.html',\r\n      text: 'Статичный сайт',\r\n      title: 'ссылка на сайт russian-travel',\r\n      active: '',\r\n      type: 'url',\r\n    },\r\n    {\r\n      path: 'https://interind.github.io/mesto/index.html',\r\n      text: 'Адаптивный сайт',\r\n      title: 'ссылка на сайт mesto',\r\n      active: '',\r\n      type: 'url',\r\n    },\r\n    {\r\n      path: '/cards',\r\n      text: 'Одностраничное приложение',\r\n      title: 'ссылка на проект',\r\n      active: '',\r\n      type: 'local',\r\n    },\r\n  ];\r\n  return (\r\n    <section className=\"Portfolio\">\r\n      <HeaderBar place={portfolio.place}>\r\n        Портфолио\r\n      </HeaderBar>\r\n      <NavTab links={dataLinks} place={portfolio.place} >\r\n        <span className='Portfolio-arrow'/>\r\n      </NavTab>\r\n    </section>\r\n  );\r\n}\r\n\r\nexport default Portfolio;\r\n","import React from 'react';\r\nimport NavTab from '../NavTab/NavTab';\r\nimport HeaderBar from '../HeaderBar/HeaderBar';\r\nimport Portfolio from '../Portfolio/Portfolio';\r\nimport './AboutMe.css';\r\n\r\nfunction AboutMe() {\r\n  const aboutMe = {\r\n    place: 'aboutMe',\r\n  };\r\n  const student = {\r\n    name: 'Александр',\r\n    about: 'студент',\r\n    age: '37 лет',\r\n    description: 'Я родился в городе Берёзовском, живу в Москве, закончил факультет менеджмента в институте социальных и гуманитарных знаний. У меня есть жена, '\r\n    + 'сын и две дочери. Я люблю слушать музыку, а ещё увлекаюсь большим тенисом, шахматами, javascript. Недавно начал кодить. С'\r\n    + ' 2006 года работаю в торговой компании и занимаюсь оптовыми продажами.  После того, как прошёл курс по'\r\n    + ' веб-разработке, планирую перейти в IT-сферу.',\r\n  };\r\n  const dataLinks = [\r\n    {\r\n      path: 'https://github.com/interind',\r\n      text: 'Github',\r\n      active: '',\r\n      title: 'ссылка на Гитхаб',\r\n      type: 'url',\r\n    },\r\n    {\r\n      path: 'https://edabit.com/user/d75pKNSh7ZJGhWMEG',\r\n      text: 'Edabit',\r\n      active: '',\r\n      title: 'ссылка на Edabit',\r\n      type: 'url',\r\n    },\r\n  ];\r\n  return (\r\n    <section className='AboutMe' id={'about-me'}>\r\n      <HeaderBar place={aboutMe.place}>\r\n        Студент\r\n      </HeaderBar>\r\n      <div className='AboutMe-container'>\r\n        <div className='AboutMe-info'>\r\n        <h3 className='AboutMe__title AboutMe__title_place_author'>{student.name}</h3>\r\n        <h4 className='AboutMe__subtitle'>{`${student.about} ${student.age}`}</h4>\r\n        <p className='AboutMe__text'>{student.description}</p>\r\n        <NavTab links={dataLinks} place={aboutMe.place} />\r\n        </div>\r\n        <div className='AboutMe-image' />\r\n      </div>\r\n      <Portfolio />\r\n    </section>\r\n  );\r\n}\r\n\r\nexport default AboutMe;\r\n","import React, { useEffect } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport Promo from '../Promo/Promo';\r\nimport Button from '../Button/Button';\r\nimport AboutProject from '../AboutProject/AboutProject';\r\nimport Techs from '../Techs/Techs';\r\nimport AboutMe from '../AboutMe/AboutMe';\r\nimport './Main.css';\r\n\r\nfunction Main({ onHeader, stateHeader }) {\r\n  useEffect(() => {\r\n    if (!stateHeader) {\r\n      onHeader(true);\r\n    }\r\n  }, [onHeader, stateHeader]);\r\n  return (\r\n    <main className='Main'>\r\n      <Promo />\r\n      <AboutProject />\r\n      <Techs />\r\n      <AboutMe />\r\n      <Button className='Button__app' type='button' title='Вверх' onChange={() => window.scrollTo(0, 0)}/>\r\n    </main>\r\n  );\r\n}\r\n\r\nMain.propTypes = {\r\n  onHeader: PropTypes.func.isRequired,\r\n  stateHeader: PropTypes.bool.isRequired,\r\n};\r\n\r\nexport default Main;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { useHistory } from 'react-router-dom';\r\nimport './Logo.css';\r\n\r\nfunction Logo({ className }) {\r\n  const page = { path: '/', title: 'на главную' };\r\n  const history = useHistory();\r\n  const pushPageStart = () => {\r\n    history.push(page.path);\r\n  };\r\n  return (\r\n    <div className={`Logo ${className ? `Logo_place_${className}` : ''}`} onClick={pushPageStart} title={page.title}/>\r\n  );\r\n}\r\n\r\nLogo.propTypes = {\r\n  className: PropTypes.string,\r\n};\r\n\r\nexport default Logo;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport './Form.css';\r\n\r\nfunction Form({\r\n  nameFrom,\r\n  className = '',\r\n  onSubmit,\r\n  children,\r\n}) {\r\n  return (\r\n    <form className={className} name={nameFrom} onSubmit={onSubmit}>\r\n      {children}\r\n    </form>\r\n  );\r\n}\r\n\r\nForm.propTypes = {\r\n  className: PropTypes.string.isRequired,\r\n  nameFrom: PropTypes.string.isRequired,\r\n  children: PropTypes.any.isRequired,\r\n  onSubmit: PropTypes.func,\r\n};\r\n\r\nexport default Form;\r\n","import React from 'react';\nimport classes from 'classnames';\nimport PropTypes from 'prop-types';\n\nexport default {\n  Place: function Place({\n    place,\n    link,\n    editPlace,\n    validationPlace,\n    placeMessage,\n  }) {\n    Place.propTypes = {\n      place: PropTypes.string.isRequired,\n      link: PropTypes.string.isRequired,\n      editPlace: PropTypes.func.isRequired,\n      validationPlace: PropTypes.func.isRequired,\n      placeMessage: PropTypes.object.isRequired,\n    };\n    const inputValidClass = classes('AddPlaceForm__input', {\n      AddPlaceForm__input_type_error: place || link,\n    });\n    return (\n      <React.Fragment>\n        <label className='AddPlaceForm__label' htmlFor='input-place' />\n          <input\n            className={inputValidClass}\n            type='text'\n            placeholder='Название'\n            id='input-place'\n            name='place'\n            minLength='2'\n            defaultValue={place}\n            maxLength='30'\n            onChange={editPlace}\n            onInput={validationPlace}\n            onFocus={validationPlace}\n            required\n          />\n        {place !== '' && (\n          <div className='AddPlaceForm__error'>\n            <span\n              className='AddPlaceForm__input-error AddPlaceForm__input-error_active'\n              id='input-place-error'\n            >\n              {placeMessage.place}\n            </span>\n          </div>\n        )}\n        <label className='AddPlaceForm__label' htmlFor='input-link' />\n          <input\n            className={inputValidClass}\n            type='url'\n            placeholder='Ссылка на картинку'\n            id='input-link'\n            defaultValue={link}\n            name='link'\n            onChange={editPlace}\n            onInput={validationPlace}\n            onFocus={validationPlace}\n            required\n          />\n        {link !== '' && (\n          <div className='AddPlaceForm__error'>\n            <span\n              className='AddPlaceForm__input-error AddPlaceForm__input-error_active'\n              id='input-link-error'\n            >\n              {placeMessage.link}\n            </span>\n          </div>\n        )}\n      </React.Fragment>\n    );\n  },\n  Profile: function Profile({\n    name,\n    email,\n    setEditProfile,\n    validationProfile,\n    profileMessage,\n  }) {\n    Profile.propTypes = {\n      name: PropTypes.string.isRequired,\n      email: PropTypes.string.isRequired,\n      setEditProfile: PropTypes.func.isRequired,\n      validationProfile: PropTypes.func.isRequired,\n      profileMessage: PropTypes.object.isRequired,\n    };\n    const inputValidClass = classes('Profile__input', {\n      Profile__input_type_error: name || email,\n    });\n    return (\n      <React.Fragment>\n        <label className='Profile__label' htmlFor='input-name'>\n          Имя\n        <input\n          className={inputValidClass}\n          id='input-name'\n          type='text'\n          name='name'\n          minLength='2'\n          maxLength='40'\n          placeholder='Имя'\n          autoCorrect='off'\n          autoCapitalize='words'\n          defaultValue={name}\n          onChange={setEditProfile}\n          onInput={validationProfile}\n          onFocus={validationProfile}\n          required\n        />\n        </label>\n        {name !== '' && (\n          <div className='Profile__error'>\n            <span\n              className='Profile__input-error Profile__input-error_active'\n              id='input-name-error'\n            >\n              {profileMessage.name}\n            </span>\n          </div>\n        )}\n          <label className='Profile__label' htmlFor='input-email'>\n            Почта\n          <input\n          className={inputValidClass}\n          type='email'\n          placeholder='E-mail'\n          id='input-email'\n          defaultValue={email}\n          name='email'\n          onChange={setEditProfile}\n          onInput={validationProfile}\n          onFocus={validationProfile}\n          required\n        />\n        </label>\n        {email !== '' && (\n          <div className='Profile__error'>\n            <span\n              className='Profile__input-error Profile__input-error_active'\n              id='input-email-error'\n            >\n              {profileMessage.email}\n            </span>\n          </div>\n        )}\n      </React.Fragment>\n    );\n  },\n  Login: function Login({\n    email,\n    password,\n    setEditLogin,\n    validationCheck,\n    placeMessage,\n  }) {\n    Login.propTypes = {\n      password: PropTypes.string.isRequired,\n      email: PropTypes.string.isRequired,\n      setEditLogin: PropTypes.func.isRequired,\n      validationCheck: PropTypes.func.isRequired,\n      placeMessage: PropTypes.object.isRequired,\n    };\n    const inputValidClass = classes('Login__input', {\n      Login__input_type_error: password || email,\n    });\n    return (\n      <React.Fragment>\n         <label className='Login__label' htmlFor='input-email'>\n            Почта\n        <input\n          className={inputValidClass}\n          type='email'\n          placeholder='E-mail'\n          id='input-email'\n          value={email}\n          name='email'\n          onChange={setEditLogin}\n          onInput={validationCheck}\n          onFocus={validationCheck}\n          required\n        />\n        </label>\n        {email !== '' && (\n          <div className='Login__error'>\n            <span\n              className='Login__input-error Login__input-error_active'\n              id='input-email-error'\n            >\n              {placeMessage.email}\n            </span>\n          </div>\n        )}\n         <label className='Login__label' htmlFor='input-password'>\n            Пaроль\n        <input\n          className={inputValidClass}\n          type='password'\n          placeholder='Пароль'\n          id='input-password'\n          name='password'\n          minLength='6'\n          value={password}\n          maxLength='30'\n          onChange={setEditLogin}\n          onInput={validationCheck}\n          onFocus={validationCheck}\n          autoComplete='off'\n          required\n        />\n        </label>\n        {password && (\n          <div className='Login__error'>\n            <span\n              className='Login__input-error Login__input-error_active'\n              id='input-password-error'\n            >\n              {placeMessage.password}\n            </span>\n          </div>\n        )}\n      </React.Fragment>\n    );\n  },\n  Register: function Register({\n    name,\n    email,\n    password,\n    setEditRegister,\n    placeMessage,\n    validationCheck,\n  }) {\n    Register.propTypes = {\n      email: PropTypes.string.isRequired,\n      name: PropTypes.string.isRequired,\n      password: PropTypes.string.isRequired,\n      setEditRegister: PropTypes.func.isRequired,\n      validationCheck: PropTypes.func.isRequired,\n      placeMessage: PropTypes.object.isRequired,\n    };\n    const inputValidClass = classes('Register__input', {\n      Register__input_type_error:\n       (password || email || name),\n    });\n    return (\n      <React.Fragment>\n        <label className='Register__label' htmlFor='input-name'>\n            Имя\n        <input\n          className={inputValidClass}\n          id='input-name'\n          type='text'\n          name='name'\n          autoCorrect='off'\n          autoCapitalize='words'\n          minLength='2'\n          maxLength='40'\n          placeholder='Ваше имя'\n          value={name}\n          onChange={setEditRegister}\n          onInput={validationCheck}\n          onFocus={validationCheck}\n          required\n        />\n        </label>\n        {name !== '' && (\n          <div className='Register__error'>\n            <span\n              className='Register__input-error Register__input-error_active'\n              id='input-name-error'\n            >\n              {placeMessage.name}\n            </span>\n          </div>\n        )}\n         <label className='Register__label' htmlFor='input-email'>\n            Почта\n        <input\n          className={inputValidClass}\n          type='email'\n          placeholder='Ваш e-mail'\n          id='input-email'\n          value={email}\n          name='email'\n          onChange={setEditRegister}\n          onInput={validationCheck}\n          onFocus={validationCheck}\n          required\n        />\n        </label>\n        {email !== '' && (\n          <div className='Register__error'>\n            <span\n              className='Register__input-error Register__input-error_active'\n              id='input-email-error'\n            >\n              {placeMessage.email}\n            </span>\n          </div>\n        )}\n         <label className='Register__label' htmlFor='input-password'>\n            Пaроль\n        <input\n          className={inputValidClass}\n          type='password'\n          placeholder='Придумайте надежный пароль'\n          id='input-password'\n          name='password'\n          minLength='6'\n          value={password}\n          maxLength='30'\n          onChange={setEditRegister}\n          onInput={validationCheck}\n          onFocus={validationCheck}\n          autoComplete='off'\n          required\n        />\n        </label>\n        {password && (\n          <div className='Register__error'>\n            <span\n              className='Register__input-error Register__input-error_active'\n              id='input-password-error'\n            >\n              {placeMessage.password}\n            </span>\n          </div>\n        )}\n      </React.Fragment>\n    );\n  },\n  Search: function Search({\n    movie,\n    setEditMovies,\n    validationCheck,\n    placeMessage,\n  }) {\n    Search.propTypes = {\n      movie: PropTypes.string,\n      placeMessage: PropTypes.string,\n      setEditMovies: PropTypes.func,\n      validationCheck: PropTypes.func,\n    };\n    return (\n      <React.Fragment>\n        <input\n        className='SearchForm__input'\n        name='search'\n        value={movie}\n        type='text'\n        placeholder='Введите слово для поиска фильма'\n        minLength='1'\n        onChange={setEditMovies}\n        onInput={validationCheck}\n        onFocus={validationCheck}\n        autoComplete='off'\n        required />\n        { placeMessage && (\n          <div className='SearchForm__error'>\n            <span\n              className='SearchForm__input-error SearchForm__input-error_active'\n              id='input-search-error'\n            >\n              {placeMessage}\n            </span>\n          </div>\n        )}\n      </React.Fragment>\n    );\n  },\n};\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport './Navigation.css';\r\n\r\nfunction Navigation({ place, children }) {\r\n  return (\r\n    <nav className={`Navigation Navigation_place_${place}`}>\r\n     {children}\r\n    </nav>\r\n  );\r\n}\r\n\r\nNavigation.propTypes = {\r\n  place: PropTypes.string.isRequired,\r\n  children: PropTypes.any.isRequired,\r\n};\r\n\r\nexport default Navigation;\r\n","import React, { useState, useEffect } from 'react';\r\nimport {\r\n  useHistory,\r\n} from 'react-router-dom';\r\nimport PropTypes from 'prop-types';\r\nimport classes from 'classnames';\r\nimport Logo from '../Logo/Logo';\r\nimport Form from '../Form/Form';\r\nimport Button from '../Button/Button';\r\nimport HeaderBar from '../HeaderBar/HeaderBar';\r\nimport MarkupForForms from '../MarkupForForms/MarkupForForms';\r\nimport NavTab from '../NavTab/NavTab';\r\nimport Navigation from '../Navigation/Navigation';\r\nimport guest from '../../utils/constants';\r\nimport './Login.css';\r\n\r\nfunction Login({\r\n  loggedIn,\r\n  onLogin,\r\n  buttonLoading,\r\n  onHeader,\r\n  stateHeader,\r\n}) {\r\n  const link = [{\r\n    path: '/signup',\r\n    text: 'Регистрация',\r\n    active: '',\r\n    title: 'Перейти на страницу регистрации',\r\n    type: 'local',\r\n  }];\r\n  const history = useHistory();\r\n  const localEmail = localStorage.getItem('email');\r\n  const localPassword = localStorage.getItem('password');\r\n  const localName = localStorage.getItem('name');\r\n\r\n  const [login, setLogin] = useState({ email: localEmail || '', password: localPassword || '' });\r\n  const [activeButton, setActiveButton] = useState(true);\r\n  const [validCheck, setValidCheck] = useState({});\r\n  const textButton = buttonLoading ? 'Проверка...' : 'Войти';\r\n  const classButton = classes('Button__login', { Button__disabled: activeButton });\r\n\r\n  function validationCheck(evt) {\r\n    if (!evt.target.validity.valid) {\r\n      return setValidCheck({ [evt.target.name]: evt.target.validationMessage });\r\n    }\r\n    return setValidCheck({ [evt.target.name]: '' });\r\n  }\r\n\r\n  function setEditLogin(evt) {\r\n    setLogin({ ...login, [evt.target.name]: evt.target.value.trim() });\r\n    if (Array.from(evt.target.form).some((e) => e.validationMessage)) {\r\n      setActiveButton(true);\r\n    } else {\r\n      setActiveButton(false);\r\n    }\r\n  }\r\n\r\n  function clearInput() {\r\n    return setLogin({\r\n      ...login,\r\n      email: '',\r\n      password: '',\r\n    });\r\n  }\r\n\r\n  function verifiesAuthorization(evt) {\r\n    evt.preventDefault();\r\n    if (!login.password || !login.email) {\r\n      return;\r\n    }\r\n    onLogin(evt, login)\r\n      .then(() => {\r\n        clearInput();\r\n        history.push('/movies');\r\n      }).catch((err) => err);\r\n  }\r\n\r\n  useEffect(() => {\r\n    if (loggedIn) {\r\n      history.push('/movies');\r\n    }\r\n  }, [history, loggedIn]);\r\n\r\n  useEffect(() => {\r\n    if (stateHeader) {\r\n      onHeader(false);\r\n    }\r\n  }, [onHeader, stateHeader]);\r\n\r\n  useEffect(() => {\r\n    if (!localStorage.getItem('email')) {\r\n      setLogin({ ...guest });\r\n      setActiveButton(false);\r\n    }\r\n  }, []);\r\n\r\n  return (\r\n    <section className='Login'>\r\n      <Form className='Login-form' nameFrom='login-form' onSubmit={(evt) => verifiesAuthorization(evt)}>\r\n        <HeaderBar component={Logo} place='login'>\r\n          Рады видеть{` ${localName || ''}!`}\r\n        </HeaderBar>\r\n        <MarkupForForms.Login\r\n          password={login.password}\r\n          email={login.email}\r\n          placeMessage={validCheck}\r\n          setEditLogin={setEditLogin}\r\n          validationCheck={validationCheck}/>\r\n        <Button className={classButton} type='submit' title='Войти' status={activeButton}>\r\n          {textButton}\r\n        </Button>\r\n        <Navigation place={'login'}>\r\n          <p>Еще не зарегистрированы?</p>\r\n          <NavTab links={link} place={'login'}/>\r\n        </Navigation>\r\n      </Form>\r\n    </section>\r\n  );\r\n}\r\n\r\nLogin.propTypes = {\r\n  onLogin: PropTypes.func.isRequired,\r\n  onHeader: PropTypes.func.isRequired,\r\n  loggedIn: PropTypes.bool.isRequired,\r\n  stateHeader: PropTypes.bool.isRequired,\r\n  buttonLoading: PropTypes.bool.isRequired,\r\n};\r\n\r\nexport default Login;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport classes from 'classnames';\r\nimport './Popup.css';\r\n\r\nfunction Popup({\r\n  isOpen,\r\n  modifier,\r\n  closePopup,\r\n  children,\r\n  toggleEventListenerWindow,\r\n}) {\r\n  const popup = classes(`Popup ${modifier ? `Popup_type_${modifier}` : ''}`, { Popup_opened: isOpen });\r\n  React.useEffect(() => {\r\n    if (isOpen) {\r\n      toggleEventListenerWindow(true);\r\n    }\r\n    return () => {\r\n      toggleEventListenerWindow(false);\r\n    };\r\n  }, [isOpen, toggleEventListenerWindow]);\r\n  return (\r\n    <div className={popup} onMouseDown={(evt) => {\r\n      if (evt.target === evt.currentTarget) {\r\n        closePopup();\r\n      }\r\n    }}>\r\n    {children}\r\n    </div>\r\n  );\r\n}\r\n\r\nPopup.propTypes = {\r\n  isOpen: PropTypes.bool.isRequired,\r\n  modifier: PropTypes.string,\r\n  children: PropTypes.any.isRequired,\r\n  closePopup: PropTypes.func.isRequired,\r\n  toggleEventListenerWindow: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default Popup;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport Logo from '../Logo/Logo';\r\nimport Button from '../Button/Button';\r\nimport './Header.css';\r\n\r\nfunction Header({\r\n  className,\r\n  children,\r\n  openPopup,\r\n}) {\r\n  return (\r\n    <header className='Header'>\r\n      <div className={`Header__container ${className ? `Header__container_place_${className}` : ''}`}>\r\n        <Logo />\r\n        {openPopup && (<Button\r\n          title={'Открыть'}\r\n          type={'button'}\r\n          className={'Button__open_place_header'}\r\n          onChange={openPopup}\r\n        />)}\r\n        {children}\r\n      </div>\r\n    </header>\r\n  );\r\n}\r\n\r\nHeader.propTypes = {\r\n  className: PropTypes.string,\r\n  openPopup: PropTypes.func,\r\n  children: PropTypes.any,\r\n};\r\n\r\nexport default Header;\r\n","import React from 'react';\r\nimport './Footer.css';\r\nimport NavTab from '../NavTab/NavTab';\r\nimport HeaderBar from '../HeaderBar/HeaderBar';\r\n\r\nfunction Footer() {\r\n  const footer = {\r\n    place: 'footer',\r\n  };\r\n  const dataLinks = [\r\n    {\r\n      path: 'https://praktikum.yandex.ru/',\r\n      text: 'Яндекс.Практикум',\r\n      title: 'ссылка на сайт Яндекс.Практикум',\r\n      active: '',\r\n      type: 'url',\r\n    },\r\n    {\r\n      path: 'https://github.com/',\r\n      text: 'Github',\r\n      title: 'ссылка на сайт Github',\r\n      active: '',\r\n      type: 'url',\r\n    },\r\n    {\r\n      path: 'https://ru-ru.facebook.com/',\r\n      text: 'Facebook',\r\n      title: 'ссылка на сайт Facebook',\r\n      active: '',\r\n      type: 'url',\r\n    },\r\n  ];\r\n  return (\r\n    <footer className='Footer'>\r\n      <HeaderBar place={footer.place}>\r\n        Учебный проект Яндекс.Практикум х BeatFilm.\r\n      </HeaderBar>\r\n      <div className='Footer__container'>\r\n        <span className='Footer-item'>\r\n          &copy; {new Date().getFullYear()}\r\n        </span>\r\n        <NavTab links={dataLinks} place={footer.place}/>\r\n      </div>\r\n    </footer>\r\n  );\r\n}\r\n\r\nexport default Footer;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport './FilterCheckbox.css';\r\n\r\nfunction FilterCheckbox({\r\n  classLabel = '',\r\n  statusCheck,\r\n  onFilter,\r\n  children,\r\n}) {\r\n  return (\r\n    <React.Fragment>\r\n      <label className={classLabel}>\r\n        <input\r\n          className='FilterCheckbox'\r\n          type='checkbox'\r\n          name='checkbox'\r\n          onChange={onFilter}\r\n          checked={statusCheck}\r\n        />\r\n        <span id='span' className='FilterCheckbox'/>\r\n        <span className='FilterCheckbox-text'>{children}</span>\r\n      </label>\r\n    </React.Fragment>\r\n  );\r\n}\r\n\r\nFilterCheckbox.propTypes = {\r\n  onFilter: PropTypes.func.isRequired,\r\n  classLabel: PropTypes.string,\r\n  statusCheck: PropTypes.bool.isRequired,\r\n  children: PropTypes.string,\r\n\r\n};\r\n\r\nexport default FilterCheckbox;\r\n","import React, { useState } from 'react';\nimport PropTypes from 'prop-types';\nimport classes from 'classnames';\nimport Form from '../Form/Form';\nimport Button from '../Button/Button';\nimport MarkupForForms from '../MarkupForForms/MarkupForForms';\nimport FilterCheckbox from '../FilterCheckbox/FilterCheckbox';\nimport './SearchForm.css';\n\nfunction SearchForm({\n  nameFrom,\n  onFilter,\n  onSearch,\n  statusCheck,\n}) {\n  const searchMessage = localStorage.getItem('search');\n  const [movie, setMovie] = useState(searchMessage || '');\n  const [activeButton, setActiveButton] = useState(true);\n  const [validCheck, setValidCheck] = useState('');\n  const classButton = classes('Button__search', { Button__search_disabled: activeButton && movie.length < 1 });\n  const validText = '';\n\n  function setEditMovies(evt) {\n    setMovie(evt.target.value.trim());\n    setActiveButton(!evt.target.validity.valid);\n  }\n\n  function validationCheck(evt) {\n    if (!evt.target.validity.valid) {\n      return setValidCheck(validText);\n    }\n    return setValidCheck('');\n  }\n\n  function searchMovies(evt) {\n    evt.preventDefault();\n    if (!movie) {\n      return;\n    }\n    localStorage.setItem('search', movie);\n    onSearch(statusCheck, nameFrom, movie);\n  }\n\n  return (\n    <section className=\"SearchForm\">\n      <Form className='SearchForm-container' nameFrom={nameFrom} onSubmit={searchMovies}>\n        <MarkupForForms.Search\n          movie={movie}\n          placeMessage={validCheck}\n          setEditMovies={setEditMovies}\n          validationCheck={validationCheck}\n        />\n        <Button className={classButton} type='submit' title='Поиск' />\n        <div className='SearchForm-Check'>\n          <FilterCheckbox\n            classLabel='SearchForm-label'\n            onFilter={onFilter}\n            statusCheck={statusCheck}\n          >\n              Короткометражки\n            </FilterCheckbox>\n        </div>\n      </Form>\n    </section>\n  );\n}\n\nSearchForm.propTypes = {\n  nameFrom: PropTypes.string.isRequired,\n  onFilter: PropTypes.func.isRequired,\n  onSearch: PropTypes.func.isRequired,\n  statusCheck: PropTypes.bool.isRequired,\n};\n\nexport default SearchForm;\n","import React, { useState } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport Button from '../Button/Button';\r\nimport './MoviesCardList.css';\r\n\r\nfunction MoviesCardList({\r\n  component: Component,\r\n  movies,\r\n  userMovies,\r\n  toggleMovies,\r\n}) {\r\n  const notFound = <p className='MoviesCardList__not-found'>Фильмов нет</p>;\r\n  const [count, setCount] = useState(4);\r\n  return (\r\n    <React.Fragment>\r\n        <section className='MoviesCardList'>\r\n          {movies.length > 0 && movies.slice(0, count).map((mov) => <Component\r\n            key={mov._id ? mov._id : mov.id}\r\n            card={mov}\r\n            userMovies={userMovies}\r\n            toggleMovies={toggleMovies}\r\n          />)}\r\n          {movies.length <= 0 && notFound}\r\n         {(movies.length > 0) && (movies.length > count) && (<Button className='Button-MoviesCardList'\r\n            type='button' title='Ещё' onChange={() => setCount(count + 4)}>\r\n            Ещё\r\n          </Button>)}\r\n        </section>\r\n    </React.Fragment>\r\n  );\r\n}\r\n\r\nMoviesCardList.propTypes = {\r\n  component: PropTypes.func.isRequired,\r\n  movies: PropTypes.array.isRequired,\r\n  userMovies: PropTypes.array.isRequired,\r\n  toggleMovies: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default MoviesCardList;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport classes from 'classnames';\r\nimport Button from '../Button/Button';\r\nimport notFound from '../../images/moviesCard/errorPic.jpg';\r\nimport './MoviesCard.css';\r\n\r\nfunction MoviesCard({\r\n  card,\r\n  userMovies,\r\n  toggleMovies,\r\n}) {\r\n  const { image } = card;\r\n  const link = image || './static/media/errorPic.b39bbd5d.jpg';\r\n  const [visible, setVisible] = React.useState(link);\r\n  const classLike = classes('Button-like',\r\n    { 'Button-like_color_red': userMovies.find((car) => car.id === card.id) },\r\n    { 'Button-like_theme_delete': card._id });\r\n\r\n  return (\r\n    <React.Fragment>\r\n        <div className='MoviesCard'>\r\n          <a className='MoviesCard__link' title={card.description} href={card.trailerLink} target='_blank' rel='noopener noreferrer'>\r\n            <img\r\n              className='MoviesCard__pic'\r\n              src={visible}\r\n              alt={card.nameRU}\r\n              onError={() => {\r\n                setVisible(notFound);\r\n              }}\r\n            />\r\n          </a>\r\n            <h2 className='MoviesCard__title' title={card.nameRU}>\r\n              {card.nameRU}\r\n            </h2>\r\n            <Button\r\n              className={classLike}\r\n              type='button'\r\n              title={'🖤'}\r\n              onChange={() => {\r\n                toggleMovies(card);\r\n              }}\r\n           />\r\n            <span\r\n              className='MoviesCard__duration'\r\n              title='время фильма'\r\n            >\r\n              {`${Math.floor(card.duration / 60)}ч ${card.duration % 60}м`}\r\n            </span>\r\n        </div>\r\n    </React.Fragment>\r\n  );\r\n}\r\n\r\nMoviesCard.propTypes = {\r\n  card: PropTypes.object.isRequired,\r\n  userMovies: PropTypes.array.isRequired,\r\n  toggleMovies: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default MoviesCard;\r\n","import React, { useEffect } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport SearchForm from '../SearchForm/SearchForm';\r\nimport MoviesCardList from '../MoviesCardList/MoviesCardList';\r\nimport MoviesCard from '../MoviesCard/MoviesCard';\r\nimport './Movies.css';\r\n\r\nfunction Movies({\r\n  movies,\r\n  userMovies,\r\n  toggleMovies,\r\n  onSearch,\r\n  onHeader,\r\n  stateHeader,\r\n}) {\r\n  const [statusCheck, setStatusCheck] = React.useState(true);\r\n  function filterCheck(evt) {\r\n    setStatusCheck(evt.target.checked);\r\n  }\r\n  useEffect(() => {\r\n    if (!stateHeader) {\r\n      onHeader(true);\r\n    }\r\n  }, [onHeader, stateHeader]);\r\n  useEffect(() => {\r\n    const films = JSON.stringify(movies);\r\n    localStorage.setItem('movies', films);\r\n  }, [movies]);\r\n  return (\r\n    <React.Fragment>\r\n      <SearchForm\r\n        nameFrom={'movies'}\r\n        statusCheck={statusCheck}\r\n        onFilter={filterCheck}\r\n        onSearch={onSearch}\r\n        />\r\n      {statusCheck && (<MoviesCardList\r\n        movies={movies}\r\n        component={MoviesCard}\r\n        userMovies={userMovies}\r\n        toggleMovies={toggleMovies}\r\n      />)}\r\n      {!statusCheck && (<MoviesCardList\r\n        movies={movies}\r\n        component={MoviesCard}\r\n        userMovies={userMovies}\r\n        toggleMovies={toggleMovies}\r\n      />)}\r\n    </React.Fragment>\r\n  );\r\n}\r\n\r\nMovies.propTypes = {\r\n  movies: PropTypes.array.isRequired,\r\n  userMovies: PropTypes.array.isRequired,\r\n  toggleMovies: PropTypes.func.isRequired,\r\n  onHeader: PropTypes.func.isRequired,\r\n  stateHeader: PropTypes.bool.isRequired,\r\n  onSearch: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default Movies;\r\n","class Api {\r\n  constructor({\r\n    url,\r\n    login,\r\n    user,\r\n    cards,\r\n    movies,\r\n    register,\r\n    headers,\r\n  }) {\r\n    this._url = url;\r\n    this._user = user;\r\n    this._cards = cards;\r\n    this._movies = movies;\r\n    this._login = login;\r\n    this._register = register;\r\n    this._headers = headers;\r\n    this.token = '';\r\n  }\r\n\r\n  filterKeys(arg) {\r\n    return Object.fromEntries(Object.entries(arg)\r\n      .filter(([key, value]) => [key, value][1] !== ''));\r\n  }\r\n\r\n  _getResponse(res) {\r\n    const status = [200, 201, 400, 401, 409, 500];\r\n    if (status.includes(res.status)) {\r\n      return res.json();\r\n    }\r\n    return Promise.reject(new Error(`Ошибка api: ${res.status}`));\r\n  }\r\n\r\n  register(arg) { // регистрация\r\n    return fetch(`${this._url}${this._register}`, {\r\n      method: 'POST',\r\n      headers: this._headers,\r\n      body: JSON.stringify({ ...this.filterKeys(arg) }),\r\n    }).then(this._getResponse);\r\n  }\r\n\r\n  authorizationPost({ password, email }) {\r\n    return fetch(`${this._url}${this._login}`, {\r\n      method: 'POST',\r\n      headers: this._headers,\r\n      body: JSON.stringify({ password, email }),\r\n    }).then(this._getResponse);\r\n  }\r\n\r\n  getInfoForUser(token) {\r\n    return fetch(`${this._url}${this._user}`, {\r\n      method: 'GET',\r\n      headers: {\r\n        Accept: 'application/json',\r\n        'Content-type': 'application/json; charset=UTF-8',\r\n        Authorization: `Bearer ${token}`,\r\n      },\r\n    }).then(this._getResponse);\r\n  }\r\n\r\n  getInfoForMovies(token) {\r\n    return fetch(`${this._url}${this._movies}`, {\r\n      method: 'GET',\r\n      headers: {\r\n        Accept: 'application/json',\r\n        'Content-type': 'application/json; charset=UTF-8',\r\n        Authorization: `Bearer ${token}`,\r\n      },\r\n    }).then(this._getResponse);\r\n  }\r\n\r\n  getInfoForCards() {\r\n    return fetch(`${this._url}${this._cards}`, {\r\n      method: 'GET',\r\n      headers: {\r\n        Authorization: `Bearer ${this.token}`,\r\n        'Content-type': 'application/json; charset=UTF-8',\r\n      },\r\n    }).then(this._getResponse);\r\n  }\r\n\r\n  getMovies() {\r\n    return fetch(`${this._url}${this._movies}`, {\r\n      method: 'GET',\r\n      headers: {\r\n        Accept: 'application/json',\r\n        'Content-type': 'application/json; charset=UTF-8',\r\n      },\r\n    }).then(this._getResponse);\r\n  }\r\n\r\n  updateUserInfo(arg) {\r\n    return fetch(`${this._url}${this._user}`, {\r\n      method: 'PATCH',\r\n      headers: {\r\n        Accept: 'application/json',\r\n        'Content-type': 'application/json; charset=UTF-8',\r\n        Authorization: `Bearer ${this.token}`,\r\n      },\r\n      body: JSON.stringify({ ...this.filterKeys(arg) }),\r\n    }).then(this._getResponse);\r\n  }\r\n\r\n  addCard({ name, link }) {\r\n    return fetch(`${this._url}${this._cards}`, {\r\n      method: 'POST',\r\n      headers: {\r\n        Authorization: `Bearer ${this.token}`,\r\n        'Content-type': 'application/json; charset=UTF-8',\r\n      },\r\n      body: JSON.stringify({\r\n        name,\r\n        link,\r\n      }),\r\n    }).then(this._getResponse);\r\n  }\r\n\r\n  changeLikeCardStatus(infoId, isLike) {\r\n    const toggleMethod = isLike ? 'PUT' : 'DELETE';\r\n    return fetch(`${this._url}${this._cards}/${infoId}/likes`, {\r\n      method: toggleMethod,\r\n\r\n      headers: {\r\n        Authorization: `Bearer ${this.token}`,\r\n        'Content-type': 'application/json; charset=UTF-8',\r\n      },\r\n    }).then(this._getResponse);\r\n  }\r\n\r\n  deleteCard(id) {\r\n    return fetch(`${this._url}${this._cards}/${id}`, {\r\n      method: 'DELETE',\r\n      headers: {\r\n        Authorization: `Bearer ${this.token}`,\r\n        'Content-type': 'application/json; charset=UTF-8',\r\n      },\r\n    }).then(this._getResponse);\r\n  }\r\n\r\n  changeSaveMoviesStatus({\r\n    _id,\r\n    id,\r\n    nameRU,\r\n    nameEN,\r\n    director,\r\n    country,\r\n    duration,\r\n    year,\r\n    description,\r\n    image,\r\n    trailerLink,\r\n    thumbnail,\r\n  }, isSave) {\r\n    const link = `${isSave ? this._movies : `${this._movies}/${_id}`}`;\r\n    const toggleMethod = isSave ? 'POST' : 'DELETE';\r\n    return fetch(`${this._url}${link}`, {\r\n      method: toggleMethod,\r\n      headers: {\r\n        Accept: 'application/json',\r\n        'Content-type': 'application/json; charset=UTF-8',\r\n        Authorization: `Bearer ${this.token}`,\r\n      },\r\n      body: `${isSave ? JSON.stringify({\r\n        nameRU,\r\n        nameEN,\r\n        director,\r\n        country,\r\n        duration,\r\n        year,\r\n        id,\r\n        description,\r\n        image,\r\n        trailerLink,\r\n        thumbnail,\r\n      }) : ''}`,\r\n    }).then(this._getResponse);\r\n  }\r\n}\r\n\r\nexport default Api;\r\n","import Api from './Api';\n\nclass MainApi extends Api {\n  constructor({\n    url,\n    movies,\n    cards,\n    user,\n    register,\n    login,\n    headers,\n  }) {\n    super({\n      url,\n      movies,\n      cards,\n      user,\n      register,\n      login,\n      headers,\n    });\n  }\n}\n\nconst headers = { 'Content-type': 'application/json; charset=UTF-8' };\n\nconst mainApi = new MainApi({\n  url: 'http://82.148.29.66/',\n  cards: 'cards',\n  movies: 'movies',\n  user: 'users/me',\n  register: 'signup',\n  login: 'signin',\n  headers,\n});\n\nexport default mainApi;\n","import React, { useState, useEffect } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport Form from '../Form/Form';\r\nimport Button from '../Button/Button';\r\nimport HeaderBar from '../HeaderBar/HeaderBar';\r\nimport MarkupForForms from '../MarkupForForms/MarkupForForms';\r\nimport CurrentUserContext from '../../context/CurrentUserContext';\r\nimport './Profile.css';\r\nimport guest from '../../utils/constants';\r\n\r\nfunction Profile({\r\n  onEditProfile,\r\n  isLoadingButton,\r\n  signOut,\r\n  onHeader,\r\n  stateHeader,\r\n}) {\r\n  const { name, email } = React.useContext(CurrentUserContext);\r\n  const [profile, setProfile] = useState({ name: name || '', email: email || '' });\r\n  const [activeButton, setActiveButton] = useState(true);\r\n  const [validCheck, setValidCheck] = useState({});\r\n  const textButton = isLoadingButton ? 'Отправка...' : 'Редактировать';\r\n\r\n  function validationCheck(evt) {\r\n    if (!evt.target.validity.valid) {\r\n      return setValidCheck({ [evt.target.name]: evt.target.validationMessage });\r\n    }\r\n    return setValidCheck({ [evt.target.name]: '' });\r\n  }\r\n\r\n  function setEditProfile(evt) {\r\n    setProfile({ ...profile, [evt.target.name]: evt.target.value.trim() });\r\n    if (Array.from(evt.target.form).some((e) => e.validationMessage)) {\r\n      setActiveButton(true);\r\n    } else {\r\n      setActiveButton(false);\r\n    }\r\n  }\r\n\r\n  function handleEditProfile(evt) {\r\n    evt.preventDefault();\r\n    if (localStorage.getItem('email') === guest.email) {\r\n      onEditProfile(guest);\r\n    } else {\r\n      onEditProfile(profile);\r\n    }\r\n  }\r\n\r\n  useEffect(() => {\r\n    if (!stateHeader) {\r\n      onHeader(true);\r\n    }\r\n  }, [onHeader, stateHeader]);\r\n\r\n  return (\r\n    <section className='Profile'>\r\n      <Form className='Profile-form' nameFrom='profile-form' onSubmit={handleEditProfile}>\r\n        <HeaderBar place='profile'>\r\n        {`Привет, ${name}!`}\r\n        </HeaderBar>\r\n        <MarkupForForms.Profile\r\n          name={name}\r\n          email={email}\r\n          profileMessage={validCheck}\r\n          setEditProfile={setEditProfile}\r\n          validationProfile={validationCheck}/>\r\n        <Button className={'Button__profile-edit'} type='submit' title='изменить' status={activeButton}>\r\n          {textButton}\r\n        </Button>\r\n        <Button className={'Button__profile-exit'} onChange={signOut} type='button' title='выйти'>\r\n          Выйти из профиля\r\n        </Button>\r\n      </Form>\r\n    </section>\r\n  );\r\n}\r\n\r\nProfile.propTypes = {\r\n  onEditProfile: PropTypes.func.isRequired,\r\n  signOut: PropTypes.func.isRequired,\r\n  onHeader: PropTypes.func.isRequired,\r\n  stateHeader: PropTypes.bool.isRequired,\r\n  isLoadingButton: PropTypes.bool,\r\n};\r\n\r\nexport default Profile;\r\n","import React, { useEffect } from 'react';\nimport PropTypes from 'prop-types';\nimport './InfoTool.css';\n\nfunction InfoTool({ data, toggleEventListenerWindowClick }) {\n  const { message = '', type = '', visible } = data;\n  useEffect(() => {\n    if (visible) {\n      toggleEventListenerWindowClick(true);\n    }\n    return () => {\n      toggleEventListenerWindowClick(false);\n    };\n  }, [visible, toggleEventListenerWindowClick]);\n  return (\n    <React.Fragment>\n      {visible && <div className='InfoTool'>\n        {!type ? <h2 className='InfoTool__title InfoTool__title_theme_red'>{message}</h2>\n          : <h2 className='InfoTool__title InfoTool__title_theme_green'>{message}</h2>}\n      </div>}\n    </React.Fragment>\n  );\n}\n\nInfoTool.propTypes = {\n  data: PropTypes.object.isRequired,\n  toggleEventListenerWindowClick: PropTypes.func.isRequired,\n};\n\nexport default InfoTool;\n","const imagesCheck = (link) => new Promise((resolve, reject) => {\r\n  const image = new Image();\r\n  image.src = link;\r\n  image.onload = () => resolve(link);\r\n  image.onerror = () => reject(new Error('ошибка ссылки'));\r\n});\r\n\r\nexport default imagesCheck;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport Form from '../Form/Form';\r\nimport Button from '../Button/Button';\r\nimport MarkupForForms from '../MarkupForForms/MarkupForForms';\r\nimport imagesCheck from '../../utils/utils';\r\nimport './AddPlaceForm.css';\r\n\r\nfunction AddPlaceForm({\r\n  buttonLoading,\r\n  onAddPlace,\r\n}) {\r\n  const textButton = buttonLoading ? 'Сохранение...' : 'Сохранить';\r\n  const placePopup = {\r\n    name: 'form-place',\r\n    title: 'Новое место',\r\n    buttonTitle: `${textButton}`,\r\n  };\r\n  const message = {\r\n    place: localStorage.getItem('place'),\r\n    link: localStorage.getItem('link'),\r\n  };\r\n  const [addPlace, setAddPlace] = React.useState({ place: message.place || '', link: message.link || '' });\r\n\r\n  const [validPlace, setValidPlace] = React.useState({\r\n    place: '',\r\n    link: '',\r\n  });\r\n  const [activeButton, setActiveButton] = React.useState(true);\r\n\r\n  function validationPlace(evt) {\r\n    if (!evt.target.validity.valid) {\r\n      return setValidPlace({\r\n        [evt.target.name]: evt.target.validationMessage,\r\n      });\r\n    }\r\n    return setValidPlace({ [evt.target.name]: '' });\r\n  }\r\n\r\n  function messageStorage({ place = addPlace.place, link = addPlace.link }) {\r\n    localStorage.setItem('place', place);\r\n    localStorage.setItem('link', link);\r\n  }\r\n\r\n  function setPlace(evt) {\r\n    setAddPlace({ ...addPlace, [evt.target.name]: evt.target.value.trim() });\r\n    messageStorage({ [evt.target.name]: evt.target.value });\r\n    if (Array.from(evt.target.form).some((e) => e.validationMessage)) {\r\n      setActiveButton(true);\r\n    } else {\r\n      setActiveButton(false);\r\n    }\r\n  }\r\n\r\n  function clearInput(evt) {\r\n    localStorage.removeItem('place');\r\n    localStorage.removeItem('link');\r\n    setActiveButton(true);\r\n    evt.target.reset();\r\n    setAddPlace({ ...addPlace, place: '', link: '' });\r\n  }\r\n\r\n  function handleSubmit(evt) {\r\n    evt.preventDefault();\r\n    imagesCheck(addPlace.link)\r\n      .then(() => {\r\n        onAddPlace(addPlace);\r\n        return clearInput(evt);\r\n      })\r\n      .catch((err) => {\r\n        setValidPlace({ ...validPlace, link: err.message });\r\n      });\r\n  }\r\n\r\n  return (\r\n    <section className=\"AddPlaceForm\">\r\n      <Form className='AddPlaceForm-container' nameFrom={placePopup.name} onSubmit={handleSubmit}>\r\n        <MarkupForForms.Place\r\n          link={addPlace.link}\r\n          place={addPlace.place}\r\n          placeMessage={validPlace}\r\n          editPlace={setPlace}\r\n          validationPlace={validationPlace}\r\n        />\r\n        <Button className={'Button-Add'} type='submit' title='Добавить' status={activeButton}>\r\n          Добавить картинку\r\n        </Button>\r\n      </Form>\r\n    </section>\r\n  );\r\n}\r\n\r\nAddPlaceForm.propTypes = {\r\n  buttonLoading: PropTypes.bool.isRequired,\r\n  onAddPlace: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default AddPlaceForm;\r\n","import React, { useState } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport Button from '../Button/Button';\r\nimport './CardList.css';\r\nimport AddPlaceForm from '../AddPlaceForm/AddPlaceForm';\r\n\r\nfunction CardList({\r\n  component: Component,\r\n  cards,\r\n  onAddPlace,\r\n  buttonLoading,\r\n  handleCardLike,\r\n  handleCardClick,\r\n  handleCardDelete,\r\n}) {\r\n  const notFound = <p className='CardList__not-found'>Картинок еще нет</p>;\r\n  const [count, setCount] = useState(4);\r\n  return (\r\n    <React.Fragment>\r\n        <AddPlaceForm\r\n          onAddPlace={onAddPlace}\r\n          buttonLoading={buttonLoading}\r\n        />\r\n        <section className='CardList'>\r\n          {cards.length > 0 && cards.slice(0, count).map((card) => <Component\r\n            key={card.createdAt + card._id}\r\n            card={card}\r\n            onCardLike={handleCardLike}\r\n            onCardClick={handleCardClick}\r\n            onCardDelete={handleCardDelete}\r\n          />)}\r\n          {cards.length <= 0 && notFound}\r\n         {(cards.length > 0) && (cards.length > count) && (<Button className='Button-CardList'\r\n            type='button' title='Ещё' onChange={() => setCount(count + 4)}>\r\n            ещё --&gt;\r\n          </Button>)}\r\n        </section>\r\n    </React.Fragment>\r\n  );\r\n}\r\n\r\nCardList.propTypes = {\r\n  component: PropTypes.func.isRequired,\r\n  cards: PropTypes.array.isRequired,\r\n  buttonLoading: PropTypes.bool.isRequired,\r\n  onAddPlace: PropTypes.func.isRequired,\r\n  handleCardLike: PropTypes.func.isRequired,\r\n  handleCardClick: PropTypes.func.isRequired,\r\n  handleCardDelete: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default CardList;\r\n","import React, { useEffect } from 'react';\r\nimport { useHistory } from 'react-router-dom';\r\nimport PropTypes from 'prop-types';\r\nimport Button from '../Button/Button';\r\nimport './NotFound.css';\r\n\r\nfunction NotFound({ onHeader, stateHeader }) {\r\n  const history = useHistory();\r\n  useEffect(() => {\r\n    if (stateHeader) {\r\n      onHeader(false);\r\n    }\r\n  }, [onHeader, stateHeader]);\r\n  return (\r\n    <div className='NotFound'>\r\n    <h2 className='NotFound__title'>404</h2>\r\n    <p className='NotFound__subtitle'>Страница не найдена</p>\r\n    <Button className={'Button__goBack'} type={'button'} title={'Назад'} onChange={history.goBack}>\r\n      Назад\r\n    </Button>\r\n    </div>\r\n  );\r\n}\r\n\r\nNotFound.propTypes = {\r\n  onHeader: PropTypes.func.isRequired,\r\n  stateHeader: PropTypes.bool.isRequired,\r\n};\r\n\r\nexport default NotFound;\r\n","import React, { useState, useEffect } from 'react';\r\nimport {\r\n  useHistory,\r\n} from 'react-router-dom';\r\nimport PropTypes from 'prop-types';\r\nimport classes from 'classnames';\r\nimport Form from '../Form/Form';\r\nimport Button from '../Button/Button';\r\nimport HeaderBar from '../HeaderBar/HeaderBar';\r\nimport MarkupForForms from '../MarkupForForms/MarkupForForms';\r\nimport NavTab from '../NavTab/NavTab';\r\nimport Navigation from '../Navigation/Navigation';\r\nimport Logo from '../Logo/Logo';\r\nimport './Register.css';\r\n\r\nfunction Register({\r\n  onRegister,\r\n  buttonLoading,\r\n  onHeader,\r\n  stateHeader,\r\n  loggedIn,\r\n}) {\r\n  const history = useHistory();\r\n  const link = [{\r\n    path: '/signin',\r\n    text: 'Войти',\r\n    active: '',\r\n    title: 'Перейти на страницу авторизации',\r\n    type: 'local',\r\n  }];\r\n  const [register, setRegister] = useState({ name: '', email: '', password: '' });\r\n  const [activeButton, setActiveButton] = useState(true);\r\n  const [validCheck, setValidCheck] = useState({});\r\n  const textButton = buttonLoading ? 'Проверка...' : 'Зарегистрироваться';\r\n  const classButton = classes('Button__register', { Button__disabled: activeButton });\r\n\r\n  function validationCheck(evt) {\r\n    if (!evt.target.validity.valid) {\r\n      return setValidCheck({ [evt.target.name]: evt.target.validationMessage });\r\n    }\r\n    return setValidCheck({ [evt.target.name]: '' });\r\n  }\r\n\r\n  function setEditRegister(evt) {\r\n    setRegister({ ...register, [evt.target.name]: evt.target.value.trim() });\r\n    if (Array.from(evt.target.form).some((e) => e.validationMessage)) {\r\n      setActiveButton(true);\r\n    } else {\r\n      setActiveButton(false);\r\n    }\r\n  }\r\n\r\n  function clearInput() {\r\n    return setRegister({\r\n      ...register,\r\n      name: '',\r\n      email: '',\r\n      password: '',\r\n    });\r\n  }\r\n\r\n  function verifiesAuthorization(evt) {\r\n    evt.preventDefault();\r\n    if (!register.password || !register.email || !register.name) {\r\n      return;\r\n    }\r\n    onRegister(register)\r\n      .then(() => {\r\n        clearInput();\r\n      }).catch((err) => err);\r\n  }\r\n\r\n  useEffect(() => {\r\n    if (loggedIn) {\r\n      history.push('/movies');\r\n    }\r\n  }, [history, loggedIn]);\r\n\r\n  useEffect(() => {\r\n    if (stateHeader) {\r\n      onHeader(false);\r\n    }\r\n  }, [onHeader, stateHeader]);\r\n\r\n  return (\r\n    <section className='Register'>\r\n      <Form className='Register-form' nameFrom='register-form' onSubmit={verifiesAuthorization}>\r\n        <HeaderBar component={Logo} place='register'>\r\n          Добро пожаловать!\r\n        </HeaderBar>\r\n        <MarkupForForms.Register\r\n          name={register.name}\r\n          password={register.password}\r\n          email={register.email}\r\n          placeMessage={validCheck}\r\n          setEditRegister={setEditRegister}\r\n          validationCheck={validationCheck}/>\r\n        <Button className={classButton} type='submit' title='Регистрация' status={activeButton}>\r\n          {textButton}\r\n        </Button>\r\n        <Navigation place={'register'}>\r\n          <span>Уже зарегистрированы?</span>\r\n          <NavTab links={link} place={'register'}/>\r\n        </Navigation>\r\n      </Form>\r\n    </section>\r\n  );\r\n}\r\n\r\nRegister.propTypes = {\r\n  onRegister: PropTypes.func.isRequired,\r\n  onHeader: PropTypes.func.isRequired,\r\n  loggedIn: PropTypes.bool.isRequired,\r\n  stateHeader: PropTypes.bool.isRequired,\r\n  buttonLoading: PropTypes.bool.isRequired,\r\n};\r\n\r\nexport default Register;\r\n","import React from 'react';\r\nimport './Preloader.css';\r\n\r\nfunction Preloader() {\r\n  return <div className='Preloader'></div>;\r\n}\r\n\r\nexport default Preloader;\r\n","import Api from './Api';\r\n\r\nclass MoviesApi extends Api {\r\n  constructor({ url, movies, headers }) {\r\n    super({ url, movies, headers });\r\n  }\r\n}\r\nconst headers = { 'Content-type': 'application/json; charset=UTF-8' };\r\nconst moviesApi = new MoviesApi({\r\n  url: 'https://api.nomoreparties.co/',\r\n  movies: 'beatfilm-movies',\r\n  headers,\r\n});\r\n\r\nexport default moviesApi;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport Form from '../Form/Form';\r\nimport Button from '../Button/Button';\r\nimport Popup from '../Popup/Popup';\r\nimport './DeleteForm.css';\r\n\r\nfunction DeleteForm({\r\n  isCard,\r\n  isOpen,\r\n  onClose,\r\n  buttonLoading,\r\n  onDeleteCard,\r\n  toggleEventListenerWindow,\r\n\r\n}) {\r\n  const textButton = buttonLoading ? 'Удаляем...' : 'Да';\r\n  const deletePopup = {\r\n    name: 'delete',\r\n    title: 'Вы уверены?',\r\n    buttonTitle: `${textButton}`,\r\n  };\r\n\r\n  function handleSubmit(evt) {\r\n    evt.preventDefault();\r\n    onDeleteCard(isCard);\r\n  }\r\n\r\n  return (\r\n    <React.Fragment>\r\n      <div className=\"DeleteForm\">\r\n        <Popup\r\n          isOpen={isOpen}\r\n          modifier={deletePopup.name}\r\n          closePopup={onClose}\r\n          toggleEventListenerWindow={toggleEventListenerWindow}\r\n        >\r\n          <Form className='DeleteForm-container' nameFrom={deletePopup.name} onSubmit={handleSubmit}>\r\n            <h2 className='DeleteForm-title'>{deletePopup.title}</h2>\r\n            <Button className={'Button-Submit'} type='submit' title='Удалить'>\r\n              Удалить картинку\r\n            </Button>\r\n            <Button className={'Button-Close'} type='button' title='закрыть' onChange={onClose} />\r\n          </Form>\r\n        </Popup>\r\n      </div>\r\n    </React.Fragment>\r\n  );\r\n}\r\n\r\nDeleteForm.propTypes = {\r\n  isCard: PropTypes.object.isRequired,\r\n  buttonLoading: PropTypes.bool.isRequired,\r\n  onDeleteCard: PropTypes.func.isRequired,\r\n  onClose: PropTypes.func.isRequired,\r\n  isOpen: PropTypes.bool.isRequired,\r\n  toggleEventListenerWindow: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default DeleteForm;\r\n","import React, { useEffect } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport SearchForm from '../SearchForm/SearchForm';\r\nimport MoviesCardList from '../MoviesCardList/MoviesCardList';\r\nimport MoviesCard from '../MoviesCard/MoviesCard';\r\nimport './SavedMovies.css';\r\n\r\nfunction SavedMovies({\r\n  onHeader,\r\n  stateHeader,\r\n  movies,\r\n  userMovies,\r\n  onSearch,\r\n  toggleMovies,\r\n}) {\r\n  const [statusCheck, setStatusCheck] = React.useState(true);\r\n\r\n  function filterCheck(evt) {\r\n    setStatusCheck(evt.target.checked);\r\n  }\r\n  useEffect(() => {\r\n    const films = JSON.stringify(movies);\r\n    localStorage.setItem('movies-save', films);\r\n  }, [movies]);\r\n  useEffect(() => {\r\n    if (!stateHeader) {\r\n      onHeader(true);\r\n    }\r\n  }, [onHeader, stateHeader]);\r\n  return (\r\n    <React.Fragment>\r\n      <SearchForm\r\n        nameFrom={'saved-movies'}\r\n        onFilter={filterCheck}\r\n        onSearch={onSearch}\r\n        statusCheck={statusCheck}\r\n      />\r\n      {statusCheck && (<MoviesCardList\r\n        movies={movies}\r\n        component={MoviesCard}\r\n        userMovies={userMovies}\r\n        toggleMovies={toggleMovies}\r\n      />)}\r\n      {!statusCheck && (<MoviesCardList\r\n        movies={movies}\r\n        component={MoviesCard}\r\n        userMovies={userMovies}\r\n        toggleMovies={toggleMovies}\r\n      />)}\r\n    </React.Fragment>\r\n  );\r\n}\r\n\r\nSavedMovies.propTypes = {\r\n  movies: PropTypes.array.isRequired,\r\n  userMovies: PropTypes.array.isRequired,\r\n  onSearch: PropTypes.func.isRequired,\r\n  stateHeader: PropTypes.bool.isRequired,\r\n  onHeader: PropTypes.func.isRequired,\r\n  toggleMovies: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default SavedMovies;\r\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport Popup from '../Popup/Popup';\nimport notFound from '../../images/moviesCard/errorPic.jpg';\nimport './ImageForPopup.css';\n\nfunction ImageForPopup({\n  selectedCard,\n  onClose,\n  isOpen,\n  toggleEventListenerWindow,\n}) {\n  const ImagePopup = {\n    name: 'image',\n    link: notFound,\n  };\n  return (\n    <Popup\n      isOpen={isOpen}\n      modifier={ImagePopup.name}\n      closePopup={onClose}\n      toggleEventListenerWindow={toggleEventListenerWindow}\n    >\n      <div className='ImageForPopup'>\n        <img className='ImageForPopup__pic' src={selectedCard.link || ImagePopup.link} alt={selectedCard.name || 'картинка'} />\n        <span className='ImageForPopup__place-pic'>{selectedCard.name}</span>\n      </div>\n    </Popup>\n  );\n}\n\nImageForPopup.propTypes = {\n  isOpen: PropTypes.bool.isRequired,\n  selectedCard: PropTypes.object.isRequired,\n  onClose: PropTypes.func.isRequired,\n  toggleEventListenerWindow: PropTypes.func.isRequired,\n};\n\nexport default ImageForPopup;\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nclass ErrorBoundary extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = { error: null, errorInfo: null };\r\n  }\r\n\r\n  componentDidCatch(error, errorInfo) {\r\n    this.setState({\r\n      error,\r\n      errorInfo,\r\n    });\r\n  }\r\n\r\n  render() {\r\n    const { errorInfo, error } = this.state;\r\n    if (errorInfo) {\r\n      return (\r\n        <div>\r\n          <h2>Что-то пошло не так!</h2>\r\n          <details style={{ whiteSpace: 'pre-wrap' }}>\r\n            {error && error.toString()}\r\n            <br />\r\n            {errorInfo.componentStack}\r\n          </details>\r\n        </div>\r\n      );\r\n    }\r\n    return this.props.children;\r\n  }\r\n}\r\n\r\nErrorBoundary.propTypes = {\r\n  children: PropTypes.any.isRequired,\r\n};\r\n\r\nexport default ErrorBoundary;\r\n","import React from 'react';\r\nimport { Route, Redirect } from 'react-router-dom';\r\nimport PropTypes from 'prop-types';\r\n\r\nconst ProtectedRoute = ({ footer: Footer, children, ...props }) => (\r\n    <Route>\r\n      {() => (props.loggedIn ? <React.Fragment>\r\n        {children}\r\n        {Footer && <Footer />}\r\n        </React.Fragment> : <Redirect to='/signin' />)\r\n      }\r\n    </Route>\r\n);\r\n\r\nProtectedRoute.propTypes = {\r\n  loggedIn: PropTypes.bool.isRequired,\r\n  children: PropTypes.any,\r\n  footer: PropTypes.func,\r\n};\r\n\r\nexport default ProtectedRoute;\r\n","import React from 'react';\nimport {\n  Route,\n  Switch,\n  useHistory,\n} from 'react-router-dom';\nimport guest from '../../utils/constants';\nimport Card from '../Card/Card';\nimport Main from '../Main/Main';\nimport Login from '../Login/Login';\nimport Popup from '../Popup/Popup';\nimport Button from '../Button/Button';\nimport NavTab from '../NavTab/NavTab';\nimport Header from '../Header/Header';\nimport Footer from '../Footer/Footer';\nimport Movies from '../Movies/Movies';\nimport mainApi from '../../utils/MainApi';\nimport Profile from '../Profile/Profile';\nimport InfoTool from '../InfoTool/InfoTool';\nimport CardList from '../CardsList/CardList';\nimport NotFound from '../NotFound/NotFound';\nimport Register from '../Register/Register';\nimport Preloader from '../Preloader/Preloader';\nimport moviesApi from '../../utils/MoviesApi';\nimport Navigation from '../Navigation/Navigation';\nimport DeleteForm from '../DeleteForm/DeleteForm';\nimport SavedMovies from '../SavedMovies/SavedMovies';\nimport ImageForPopup from '../ImageForPopup/ImageForPopup';\nimport ErrorBoundary from '../Error/ErrorBoundary';\nimport ProtectedRoute from '../ProtectedRoute/ProtectedRoute';\nimport CurrentUserContext from '../../context/CurrentUserContext';\nimport './App.css';\n\nfunction App() {\n  const history = useHistory();\n  const page = {\n    path: '/',\n    text: 'Главная',\n    active: '',\n    title: 'Перейти на главную страницу',\n    type: 'local',\n  };\n  const avatar = [{\n    path: '/profile',\n    text: '',\n    active: '',\n    title: 'страница профиля',\n    type: 'local',\n  }];\n  const moviesPage = [\n    {\n      path: '/movies',\n      text: 'Фильмы',\n      active: '',\n      title: 'Перейти на страницу поиска фильмов',\n      type: 'local',\n    },\n    {\n      path: '/saved-movies',\n      text: 'Сохраненные Фильмы',\n      active: '',\n      title: 'Перейти на страницу поиска фильмов',\n      type: 'local',\n    },\n    {\n      path: '/cards',\n      text: 'Картинки',\n      active: '',\n      title: 'Перейти к картинкам',\n      type: 'local',\n    },\n  ];\n  const dataLinks = [\n    {\n      path: '/signup',\n      text: 'Регистрация',\n      active: '',\n      title: 'Перейти на страницу регистрации',\n      type: 'local',\n    },\n    {\n      path: '/signin',\n      text: 'Войти',\n      active: 'active',\n      title: 'Перейти на страницу авторизации',\n      type: 'local',\n    },\n  ];\n  const [isCard, setIsCard] = React.useState({});\n  const [isConfirmDeletePopupOpen, setConfirmDeletePopup] = React.useState(false);\n  const [selectedCard, setSelectedCard] = React.useState({});\n  const [isOpenCard, setOpenCard] = React.useState(false);\n  const [cards, setCards] = React.useState([]);\n  const [currentUser, setCurrentUser] = React.useState({ name: '', email: '', _id: '' });\n  const [loggedIn, setLoggedIn] = React.useState(true);\n  const [stateHeader, setStateHeader] = React.useState(true);\n  const [loading, setLoading] = React.useState(false);\n  const [isStatusPopup, setStatusPopup] = React.useState(false);\n  const [statusInfo, setStatusInfo] = React.useState({ message: '', type: true, visible: false });\n  const [moviesData, setMoviesDate] = React.useState([]);\n  const [filterData, setFilterDate] = React.useState([]);\n  const [filterUserMovies, setFilterUserMovies] = React.useState([]);\n  const [userMovies, setUserMovies] = React.useState([]);\n  const [buttonLoading, setButtonLoading] = React.useState(false);\n  const infoMessage = React.useCallback((text, type, visible) => {\n    if (visible) {\n      setStatusInfo({\n        ...statusInfo,\n        message: text,\n        type,\n        visible,\n      });\n    }\n  }, [statusInfo]);\n\n  function onHeader(bool) {\n    setStateHeader(bool);\n  }\n\n  function filterTimes(arr, time) {\n    return arr.filter((item) => (time ? item.duration <= time : item.duration > 40));\n  }\n  function filterMovies(arr) {\n    const regCheck = (url) => {\n      const reg = /^(http)+/;\n      return reg.test(url) ? url : `https://api.nomoreparties.co${url}`;\n    };\n    return arr.map((mov) => {\n      const { url } = mov.image\n        ? mov.image : 'https://avatars.mds.yandex.net/get-zen_doc/1881616/pub_5e1ea9963639e600ad0cfebb_5e21840e86c4a900ac971659/scale_1200';\n      const card = {\n        image: regCheck(url),\n        nameEN: mov.nameEN || 'Not names films',\n        nameRU: mov.nameRU || 'Фильм без названия',\n        country: mov.country || 'Россия',\n        director: mov.director || 'неизвестный',\n        duration: mov.duration || 100,\n        year: mov.year || 2021,\n        description: mov.description || 'без комментариев',\n        id: mov.id,\n        trailerLink: mov.trailerLink,\n        thumbnail: regCheck(url),\n      };\n      return card;\n    });\n  }\n  function searchMovies(arr, str) {\n    return new Promise((resolve) => {\n      if (arr.length > 0) {\n        return resolve(arr.filter((mov) => JSON.stringify(mov.nameRU)\n          .toLowerCase()\n          .includes(str.toLowerCase())\n          || JSON.stringify(mov.nameEN)\n            .toLowerCase()\n            .includes(str.toLowerCase())));\n      }\n      return resolve(arr);\n    });\n  }\n  function onSearch(checked, nameForm, str) {\n    setTimeout(() => {\n      setLoading(true);\n    }, 100);\n    setTimeout(() => {\n      setLoading(false);\n    }, 1000);\n    if (checked === true) {\n      if (nameForm === 'movies') {\n        searchMovies(moviesData, str)\n          .then((data) => {\n            if (data.length <= 0) {\n              setFilterDate(filterTimes(data));\n              infoMessage('Ничего не найдено', false, true);\n            }\n            setFilterDate(filterTimes(data));\n          })\n          .catch((err) => infoMessage(`ошибка фильтра ${err.name || '?'}`, false, true))\n          .finally(() => setLoading(false));\n      } else {\n        searchMovies(userMovies, str)\n          .then((data) => {\n            if (data.length <= 0) {\n              setFilterUserMovies(filterTimes(data));\n              infoMessage('Ничего не найдено', false, true);\n            }\n            setFilterUserMovies(filterTimes(data));\n          })\n          .catch((err) => infoMessage(`ошибка фильтра ${err.name || '?'}`, false, true))\n          .finally(() => setLoading(false));\n      }\n    } else if (checked === false) {\n      if (nameForm === 'movies') {\n        searchMovies(moviesData, str)\n          .then((data) => {\n            if (data.length <= 0) {\n              setFilterDate(filterTimes(data, 40));\n              infoMessage('Ничего не найдено', false, true);\n            }\n            setFilterDate(filterTimes(data, 40));\n          })\n          .catch((err) => infoMessage(`ошибка фильтра ${err.name || '?'}`, false, true))\n          .finally(() => setLoading(false));\n      } else {\n        searchMovies(userMovies, str)\n          .then((data) => {\n            if (data.length <= 0) {\n              setFilterUserMovies(filterTimes(data, 40));\n              infoMessage('Ничего не найдено', false, true);\n            }\n            setFilterUserMovies(filterTimes(data, 40));\n          })\n          .catch((err) => infoMessage(`ошибка фильтра ${err.name || '?'}`, false, true))\n          .finally(() => setLoading(false));\n      }\n    }\n  }\n  const openPopup = () => {\n    setStatusPopup(true);\n  };\n  const closeAllPopups = () => {\n    setConfirmDeletePopup(false);\n    setStatusPopup(false);\n    setOpenCard(false);\n  };\n\n  function closeInfo() {\n    setStatusInfo({ ...statusInfo, message: '', visible: false });\n  }\n  const closePopupEsc = (evt) => {\n    if (evt.key === 'Escape') {\n      closeAllPopups();\n    }\n  };\n\n  function onRegister(arg) {\n    setButtonLoading(true);\n    return mainApi.register(arg)\n      .then((res) => {\n        if (res && !res.error && !res.message) {\n          setButtonLoading(false);\n          localStorage.setItem('email', res.email);\n          localStorage.setItem('name', res.name);\n          setCurrentUser({ ...currentUser, email: res.email, name: res.name });\n          setStatusInfo({\n            ...statusInfo,\n            message: `${res.name} Мы вас добавили!`,\n            type: true,\n            visible: true,\n          });\n          history.push('/signin');\n          return Promise.resolve();\n        }\n        infoMessage(`${res.error ? res.error : res.message}!`, false, true);\n        return Promise.reject(res.err);\n      })\n      .catch((err) => infoMessage(err.message, false, true))\n      .finally(() => setButtonLoading(false));\n  }\n\n  function handleLogin(evt) {\n    evt.preventDefault();\n    setLoggedIn(true);\n    setLoading(true);\n  }\n\n  function onLogin(evt, login) {\n    setButtonLoading(true);\n    return mainApi\n      .authorizationPost({\n        ...login,\n      })\n      .then((data) => {\n        if (data.token) {\n          localStorage.setItem('jwt', data.token);\n          handleLogin(evt);\n          setStatusInfo({\n            ...statusInfo,\n            message: 'Добро пожаловать на проект Movies',\n            type: true,\n            visible: true,\n          });\n          return Promise.resolve();\n        }\n        infoMessage(data.message, false, true);\n        return Promise.reject(data.err);\n      })\n      .catch((err) => infoMessage(err.message, false, true))\n      .finally(() => {\n        setButtonLoading(false);\n        setLoading(false);\n      });\n  }\n  async function toggleEventListenerWindow(bool) {\n    if (bool) {\n      window.addEventListener('keydown', closePopupEsc);\n    } else {\n      window.removeEventListener('keydown', closePopupEsc);\n    }\n  }\n  async function toggleEventListenerWindowClick(bool) {\n    if (bool) {\n      window.addEventListener('click', closeInfo);\n    } else {\n      window.removeEventListener('click', closeInfo);\n    }\n  }\n\n  const signOut = React.useCallback(() => {\n    localStorage.clear();\n    setCurrentUser({});\n    setLoggedIn(false);\n    infoMessage('Вы вышли из системы', false, true);\n  }, [infoMessage]);\n\n  function handleSavedMovies(card) {\n    let movie = card;\n    const isSaved = userMovies.some((c) => c.id === card.id);\n    if (isSaved && !card._id) {\n      movie = userMovies.find((i) => i.id === card.id);\n    }\n    mainApi\n      .changeSaveMoviesStatus(movie, !isSaved)\n      .then((newCard) => {\n        if (!isSaved) {\n          setUserMovies([...userMovies, newCard]);\n          setFilterUserMovies([...filterUserMovies, newCard]);\n          infoMessage('Фильм сохранен', true, true);\n        } else {\n          const movies = userMovies.filter((m) => m.id !== card.id);\n          const moviesFilter = filterUserMovies.filter((m) => m.id !== card.id);\n          setUserMovies(movies);\n          setFilterUserMovies(moviesFilter);\n          infoMessage(newCard.message, false, true);\n        }\n      })\n      .catch((err) => infoMessage(err.message, false, true));\n  }\n\n  function handleUpdateUser(user) {\n    setButtonLoading(true);\n    setLoading(true);\n\n    mainApi\n      .updateUserInfo(user)\n      .then((infoUser) => {\n        if (!infoUser || infoUser.error) {\n          infoMessage('ошибка данных', false, true);\n        } else {\n          setCurrentUser({ ...currentUser, ...infoUser });\n          infoMessage('Данные заменены успешно', true, true);\n        }\n      })\n      .catch((err) => infoMessage(`Информация пользователя с ошибкой ${err.name}`, false, true))\n      .finally(() => {\n        setButtonLoading(false);\n        setLoading(false);\n      });\n  }\n\n  function handleCardLike({ likes, _id }) {\n    // получаем лайки с сервера\n    const isLiked = likes.some((i) => i === currentUser._id);\n\n    mainApi\n      .changeLikeCardStatus(_id, !isLiked)\n      .then((newCard) => {\n        const newCards = cards.map((c) => (c._id === _id ? newCard : c));\n        setCards(newCards);\n      })\n      .catch((err) => infoMessage(`Информация cards error: ${err.message}`, false, true));\n  }\n\n  function handleCardDelete({ _id }) {\n    // удаляем карточку\n    const idCard = _id;\n    setButtonLoading(true);\n    return mainApi\n      .deleteCard(_id)\n      .then((res) => {\n        if (res.error) {\n          setStatusInfo({\n            ...statusInfo,\n            message: `${res.error}`,\n            type: false,\n            visible: true,\n          });\n        }\n        setCards(cards.filter((card) => card._id !== idCard));\n        setStatusInfo({\n          ...statusInfo,\n          message: 'Карточка удалена',\n          type: true,\n          visible: true,\n        });\n      })\n      .catch((err) => infoMessage(`Информация cards error: ${err.message}`, false, true))\n      .finally(() => {\n        setButtonLoading(false);\n        closeAllPopups();\n      });\n  }\n\n  function handleConfirmDeleteClick(card) {\n    setConfirmDeletePopup(true);\n    setIsCard(card);\n  }\n  function handleCardClick({ ...props }) {\n    setSelectedCard({ ...props });\n    setOpenCard(true);\n  }\n\n  function handleAddPlace({ place, link }) {\n    setButtonLoading(true);\n    return mainApi\n      .addCard({ name: place, link })\n      .then((newCard) => {\n        if (!newCard || newCard.error || newCard.message) {\n          return infoMessage('ошибка данных', false, true);\n        }\n        setCards([newCard, ...cards]);\n        setStatusInfo({\n          ...statusInfo,\n          message: 'Карточка добавлена',\n          type: true,\n          visible: true,\n        });\n        return Promise.resolve();\n      })\n      .catch((err) => infoMessage(`Информация cards error: ${err.message}`, false, true))\n      .finally(() => {\n        setButtonLoading(false);\n      });\n  }\n\n  React.useEffect(() => {\n    if (loggedIn && localStorage.getItem('jwt')) {\n      const token = localStorage.getItem('jwt');\n      mainApi.token = token;\n      Promise.all([\n        mainApi.getInfoForUser(token),\n        mainApi.getInfoForMovies(token),\n        mainApi.getInfoForCards(token),\n        moviesApi.getMovies(),\n      ])\n        .then(([dataUser, dataMovies, dataCards, info]) => {\n          if (!(dataUser && dataMovies && dataCards) || (dataUser.error && dataMovies.error)) {\n            setStatusInfo({\n              message: 'ошибка данных',\n              type: false,\n              visible: true,\n            });\n            Promise.reject(new Error('ошибка данных'));\n          }\n          setLoading(true);\n          setLoggedIn(true);\n          setUserMovies(dataMovies);\n          setFilterUserMovies(dataMovies);\n          setCards(dataCards);\n          setCurrentUser({ ...dataUser });\n          localStorage.setItem('email', dataUser.email);\n          localStorage.setItem('name', dataUser.name);\n          return filterMovies(info);\n        })\n        .then((movies) => {\n          setMoviesDate(movies);\n        })\n        .catch((err) => {\n          localStorage.clear();\n          setLoggedIn(false);\n          setStatusInfo({\n            message: err.message,\n            type: false,\n            visible: true,\n          });\n        })\n        .finally(() => setLoading(false));\n    } else {\n      localStorage.clear();\n      setLoggedIn(false);\n    }\n  }, [loggedIn]);\n\n  React.useEffect(() => {\n    if (localStorage.getItem('movies')) {\n      const films = JSON.parse(localStorage.getItem('movies'));\n      setFilterDate(films);\n    } else if (localStorage.getItem('movies-save')) {\n      const filmsUser = JSON.parse(localStorage.getItem('movies-save'));\n      setFilterUserMovies(filmsUser);\n    }\n  }, []);\n\n  React.useEffect(() => {\n    if (!localStorage.getItem('email')) {\n      localStorage.setItem('email', guest.email);\n      localStorage.setItem('password', guest.password);\n    }\n  }, []);\n\n  return (\n    <React.Fragment>\n      <CurrentUserContext.Provider value={currentUser}>\n        <ErrorBoundary>\n          <div className='App'>\n            {stateHeader && (<Header openPopup={openPopup}>\n              {loggedIn ? (\n              <Navigation place={'header'}>\n                <NavTab\n                  links={moviesPage}\n                  place={'header'}\n                  onChange={closeAllPopups}\n                />\n                <NavTab\n                  links={avatar}\n                  place={'avatar'}\n                  onChange={closeAllPopups}\n                />\n              </Navigation>) : (\n              <Navigation place={'header'}>\n                <NavTab\n                  links={[page]}\n                  onChange={closeAllPopups}\n                />\n                <NavTab\n                  links={dataLinks}\n                  place={'header'}\n                  onChange={closeAllPopups}\n                />\n              </Navigation>)}\n            </Header>)}\n            <Popup\n              isOpen={isStatusPopup}\n              closePopup={closeAllPopups}\n              toggleEventListenerWindow={toggleEventListenerWindow}\n            >\n              <Button\n                title={'Закрыть'}\n                type={'button'}\n                className={'Button__close_place_header'}\n                onChange={closeAllPopups}\n                />\n              <Navigation place={'popup'}>\n               {loggedIn ? (\n              <>\n                <NavTab\n                  links={[page, ...moviesPage]}\n                  place={'popup'}\n                  onChange={closeAllPopups}\n                />\n                <NavTab links={avatar} place={'avatar-popup'} onChange={closeAllPopups}/>\n              </>) : (\n              <>\n                <NavTab\n                  links={[page]}\n                  place={'popup'}\n                  onChange={closeAllPopups}\n                />\n                <NavTab\n                  links={dataLinks}\n                  place={'popup'}\n                  onChange={closeAllPopups}\n                />\n              </>)}\n              </Navigation>\n            </Popup>\n            {statusInfo.visible && (<InfoTool\n              data={statusInfo}\n              toggleEventListenerWindowClick={toggleEventListenerWindowClick}\n            />)}\n            {(loggedIn && loading) && <Preloader />}\n            <Switch>\n              <Route path='/' exact>\n                <Main\n                  onHeader={onHeader}\n                  stateHeader={stateHeader}\n                />\n                <Footer />\n              </Route>\n              <ProtectedRoute\n                path='/movies' exact\n                loggedIn={loggedIn}\n                footer={Footer}\n              >\n                <Movies\n                  movies={filterData}\n                  userMovies={userMovies}\n                  stateHeader={stateHeader}\n                  onSearch={onSearch}\n                  onHeader={onHeader}\n                  toggleMovies={handleSavedMovies}\n                />\n              </ProtectedRoute>\n              <ProtectedRoute\n                path='/saved-movies' exact\n                loggedIn={loggedIn}\n                footer={Footer}\n              >\n                <SavedMovies\n                  movies={filterUserMovies}\n                  stateHeader={stateHeader}\n                  userMovies={userMovies}\n                  onHeader={onHeader}\n                  onSearch={onSearch}\n                  toggleMovies={handleSavedMovies}\n                />\n              </ProtectedRoute>\n              <ProtectedRoute\n                path='/cards' exact\n                loggedIn={loggedIn}\n                footer={Footer}\n              >\n                <CardList\n                  component={Card}\n                  cards={cards}\n                  handleCardLike={handleCardLike}\n                  onAddPlace={handleAddPlace}\n                  buttonLoading={buttonLoading}\n                  handleCardClick={handleCardClick}\n                  handleCardDelete={handleConfirmDeleteClick}\n                />\n              </ProtectedRoute>\n              <ProtectedRoute\n                path='/profile' exact\n                loggedIn={loggedIn}\n                >\n                  <Profile\n                    stateHeader={stateHeader}\n                    signOut={signOut}\n                    onHeader={onHeader}\n                    onEditProfile={handleUpdateUser}\n                  />\n                </ProtectedRoute>\n              <Route path='/signup' exact>\n                <Register\n                  loggedIn={loggedIn}\n                  stateHeader={stateHeader}\n                  buttonLoading={buttonLoading}\n                  onHeader={onHeader}\n                  onRegister={onRegister}\n                />\n              </Route>\n              <Route path='/signin' exact>\n                <Login\n                  loggedIn={loggedIn}\n                  onLogin={onLogin}\n                  onHeader={onHeader}\n                  stateHeader={stateHeader}\n                  buttonLoading={buttonLoading}\n                />\n              </Route>\n              <Route path='*'>\n                <NotFound\n                  stateHeader={stateHeader}\n                  onHeader={onHeader}\n                />\n              </Route>\n            </Switch>\n            <DeleteForm\n              isCard={isCard}\n              buttonLoading={buttonLoading}\n              isOpen={isConfirmDeletePopupOpen}\n              onClose={closeAllPopups}\n              onDeleteCard={handleCardDelete}\n              toggleEventListenerWindow={toggleEventListenerWindow}\n            />\n            <ImageForPopup\n              isOpen={isOpenCard}\n              selectedCard={selectedCard}\n              onClose={closeAllPopups}\n              toggleEventListenerWindow={toggleEventListenerWindow}\n            />\n          </div>\n        </ErrorBoundary>\n      </CurrentUserContext.Provider>\n    </React.Fragment>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { HashRouter } from 'react-router-dom';\nimport App from './components/App/App';\nimport './index.css';\n\nReactDOM.render(\n  <React.StrictMode>\n    <HashRouter>\n      <App />\n    </HashRouter>\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}